"use strict";var Ss=Object.create;var oe=Object.defineProperty;var $s=Object.getOwnPropertyDescriptor;var vs=Object.getOwnPropertyNames;var Os=Object.getPrototypeOf,Cs=Object.prototype.hasOwnProperty;var d=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Ns=(r,e)=>{for(var t in e)oe(r,t,{get:e[t],enumerable:!0})},rt=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of vs(e))!Cs.call(r,n)&&n!==t&&oe(r,n,{get:()=>e[n],enumerable:!(s=$s(e,n))||s.enumerable});return r};var st=(r,e,t)=>(t=r!=null?Ss(Os(r)):{},rt(e||!r||!r.__esModule?oe(t,"default",{value:r,enumerable:!0}):t,r)),bs=r=>rt(oe({},"__esModule",{value:!0}),r);var Y=d((Ta,gt)=>{var Ps="2.0.0",_s=Number.MAX_SAFE_INTEGER||9007199254740991,ks=16,js=250,Us=["major","premajor","minor","preminor","patch","prepatch","prerelease"];gt.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:ks,MAX_SAFE_BUILD_LENGTH:js,MAX_SAFE_INTEGER:_s,RELEASE_TYPES:Us,SEMVER_SPEC_VERSION:Ps,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var W=d((Ia,yt)=>{var Fs=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};yt.exports=Fs});var k=d((O,Rt)=>{var{MAX_SAFE_COMPONENT_LENGTH:qe,MAX_SAFE_BUILD_LENGTH:Gs,MAX_LENGTH:Vs}=Y(),Ms=W();O=Rt.exports={};var Xs=O.re=[],Hs=O.safeRe=[],f=O.src=[],p=O.t={},Bs=0,De="[a-zA-Z0-9-]",zs=[["\\s",1],["\\d",Vs],[De,Gs]],Ks=r=>{for(let[e,t]of zs)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},E=(r,e,t)=>{let s=Ks(e),n=Bs++;Ms(r,n,e),p[r]=n,f[n]=e,Xs[n]=new RegExp(e,t?"g":void 0),Hs[n]=new RegExp(s,t?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","\\d+");E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${De}*`);E("MAINVERSION",`(${f[p.NUMERICIDENTIFIER]})\\.(${f[p.NUMERICIDENTIFIER]})\\.(${f[p.NUMERICIDENTIFIER]})`);E("MAINVERSIONLOOSE",`(${f[p.NUMERICIDENTIFIERLOOSE]})\\.(${f[p.NUMERICIDENTIFIERLOOSE]})\\.(${f[p.NUMERICIDENTIFIERLOOSE]})`);E("PRERELEASEIDENTIFIER",`(?:${f[p.NUMERICIDENTIFIER]}|${f[p.NONNUMERICIDENTIFIER]})`);E("PRERELEASEIDENTIFIERLOOSE",`(?:${f[p.NUMERICIDENTIFIERLOOSE]}|${f[p.NONNUMERICIDENTIFIER]})`);E("PRERELEASE",`(?:-(${f[p.PRERELEASEIDENTIFIER]}(?:\\.${f[p.PRERELEASEIDENTIFIER]})*))`);E("PRERELEASELOOSE",`(?:-?(${f[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${f[p.PRERELEASEIDENTIFIERLOOSE]})*))`);E("BUILDIDENTIFIER",`${De}+`);E("BUILD",`(?:\\+(${f[p.BUILDIDENTIFIER]}(?:\\.${f[p.BUILDIDENTIFIER]})*))`);E("FULLPLAIN",`v?${f[p.MAINVERSION]}${f[p.PRERELEASE]}?${f[p.BUILD]}?`);E("FULL",`^${f[p.FULLPLAIN]}$`);E("LOOSEPLAIN",`[v=\\s]*${f[p.MAINVERSIONLOOSE]}${f[p.PRERELEASELOOSE]}?${f[p.BUILD]}?`);E("LOOSE",`^${f[p.LOOSEPLAIN]}$`);E("GTLT","((?:<|>)?=?)");E("XRANGEIDENTIFIERLOOSE",`${f[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);E("XRANGEIDENTIFIER",`${f[p.NUMERICIDENTIFIER]}|x|X|\\*`);E("XRANGEPLAIN",`[v=\\s]*(${f[p.XRANGEIDENTIFIER]})(?:\\.(${f[p.XRANGEIDENTIFIER]})(?:\\.(${f[p.XRANGEIDENTIFIER]})(?:${f[p.PRERELEASE]})?${f[p.BUILD]}?)?)?`);E("XRANGEPLAINLOOSE",`[v=\\s]*(${f[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${f[p.XRANGEIDENTIFIERLOOSE]})(?:${f[p.PRERELEASELOOSE]})?${f[p.BUILD]}?)?)?`);E("XRANGE",`^${f[p.GTLT]}\\s*${f[p.XRANGEPLAIN]}$`);E("XRANGELOOSE",`^${f[p.GTLT]}\\s*${f[p.XRANGEPLAINLOOSE]}$`);E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${qe}})(?:\\.(\\d{1,${qe}}))?(?:\\.(\\d{1,${qe}}))?`);E("COERCE",`${f[p.COERCEPLAIN]}(?:$|[^\\d])`);E("COERCEFULL",f[p.COERCEPLAIN]+`(?:${f[p.PRERELEASE]})?(?:${f[p.BUILD]})?(?:$|[^\\d])`);E("COERCERTL",f[p.COERCE],!0);E("COERCERTLFULL",f[p.COERCEFULL],!0);E("LONETILDE","(?:~>?)");E("TILDETRIM",`(\\s*)${f[p.LONETILDE]}\\s+`,!0);O.tildeTrimReplace="$1~";E("TILDE",`^${f[p.LONETILDE]}${f[p.XRANGEPLAIN]}$`);E("TILDELOOSE",`^${f[p.LONETILDE]}${f[p.XRANGEPLAINLOOSE]}$`);E("LONECARET","(?:\\^)");E("CARETTRIM",`(\\s*)${f[p.LONECARET]}\\s+`,!0);O.caretTrimReplace="$1^";E("CARET",`^${f[p.LONECARET]}${f[p.XRANGEPLAIN]}$`);E("CARETLOOSE",`^${f[p.LONECARET]}${f[p.XRANGEPLAINLOOSE]}$`);E("COMPARATORLOOSE",`^${f[p.GTLT]}\\s*(${f[p.LOOSEPLAIN]})$|^$`);E("COMPARATOR",`^${f[p.GTLT]}\\s*(${f[p.FULLPLAIN]})$|^$`);E("COMPARATORTRIM",`(\\s*)${f[p.GTLT]}\\s*(${f[p.LOOSEPLAIN]}|${f[p.XRANGEPLAIN]})`,!0);O.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE",`^\\s*(${f[p.XRANGEPLAIN]})\\s+-\\s+(${f[p.XRANGEPLAIN]})\\s*$`);E("HYPHENRANGELOOSE",`^\\s*(${f[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${f[p.XRANGEPLAINLOOSE]})\\s*$`);E("STAR","(<|>)?=?\\s*\\*");E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var le=d((Sa,wt)=>{var Ys=Object.freeze({loose:!0}),Ws=Object.freeze({}),Js=r=>r?typeof r!="object"?Ys:r:Ws;wt.exports=Js});var Pe=d(($a,It)=>{var xt=/^[0-9]+$/,Tt=(r,e)=>{let t=xt.test(r),s=xt.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},Qs=(r,e)=>Tt(e,r);It.exports={compareIdentifiers:Tt,rcompareIdentifiers:Qs}});var R=d((va,Ot)=>{var fe=W(),{MAX_LENGTH:St,MAX_SAFE_INTEGER:pe}=Y(),{safeRe:$t,t:vt}=k(),Zs=le(),{compareIdentifiers:j}=Pe(),_e=class r{constructor(e,t){if(t=Zs(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>St)throw new TypeError(`version is longer than ${St} characters`);fe("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let s=e.trim().match(t.loose?$t[vt.LOOSE]:$t[vt.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>pe||this.major<0)throw new TypeError("Invalid major version");if(this.minor>pe||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>pe||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let o=+n;if(o>=0&&o<pe)return o}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(fe("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),j(this.major,e.major)||j(this.minor,e.minor)||j(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let s=this.prerelease[t],n=e.prerelease[t];if(fe("prerelease compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return j(s,n)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let s=this.build[t],n=e.build[t];if(fe("build compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return j(s,n)}while(++t)}inc(e,t,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,s),this.inc("pre",t,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,s),this.inc("pre",t,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(s)?1:0;if(!t&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(t){let o=[t,n];s===!1&&(o=[t]),j(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Ot.exports=_e});var A=d((Oa,Nt)=>{var Ct=R(),en=(r,e,t=!1)=>{if(r instanceof Ct)return r;try{return new Ct(r,e)}catch(s){if(!t)return null;throw s}};Nt.exports=en});var Lt=d((Ca,bt)=>{var tn=A(),rn=(r,e)=>{let t=tn(r,e);return t?t.version:null};bt.exports=rn});var qt=d((Na,At)=>{var sn=A(),nn=(r,e)=>{let t=sn(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};At.exports=nn});var _t=d((ba,Pt)=>{var Dt=R(),on=(r,e,t,s,n)=>{typeof t=="string"&&(n=s,s=t,t=void 0);try{return new Dt(r instanceof Dt?r.version:r,t).inc(e,s,n).version}catch{return null}};Pt.exports=on});var Ut=d((La,jt)=>{var kt=A(),an=(r,e)=>{let t=kt(r,null,!0),s=kt(e,null,!0),n=t.compare(s);if(n===0)return null;let o=n>0,i=o?t:s,a=o?s:t,u=!!i.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":i.patch?"patch":i.minor?"minor":"major";let h=u?"pre":"";return t.major!==s.major?h+"major":t.minor!==s.minor?h+"minor":t.patch!==s.patch?h+"patch":"prerelease"};jt.exports=an});var Gt=d((Aa,Ft)=>{var un=R(),cn=(r,e)=>new un(r,e).major;Ft.exports=cn});var Mt=d((qa,Vt)=>{var ln=R(),fn=(r,e)=>new ln(r,e).minor;Vt.exports=fn});var Ht=d((Da,Xt)=>{var pn=R(),hn=(r,e)=>new pn(r,e).patch;Xt.exports=hn});var zt=d((Pa,Bt)=>{var mn=A(),dn=(r,e)=>{let t=mn(r,e);return t&&t.prerelease.length?t.prerelease:null};Bt.exports=dn});var I=d((_a,Yt)=>{var Kt=R(),En=(r,e,t)=>new Kt(r,t).compare(new Kt(e,t));Yt.exports=En});var Jt=d((ka,Wt)=>{var gn=I(),yn=(r,e,t)=>gn(e,r,t);Wt.exports=yn});var Zt=d((ja,Qt)=>{var Rn=I(),wn=(r,e)=>Rn(r,e,!0);Qt.exports=wn});var he=d((Ua,tr)=>{var er=R(),xn=(r,e,t)=>{let s=new er(r,t),n=new er(e,t);return s.compare(n)||s.compareBuild(n)};tr.exports=xn});var sr=d((Fa,rr)=>{var Tn=he(),In=(r,e)=>r.sort((t,s)=>Tn(t,s,e));rr.exports=In});var or=d((Ga,nr)=>{var Sn=he(),$n=(r,e)=>r.sort((t,s)=>Sn(s,t,e));nr.exports=$n});var J=d((Va,ir)=>{var vn=I(),On=(r,e,t)=>vn(r,e,t)>0;ir.exports=On});var me=d((Ma,ar)=>{var Cn=I(),Nn=(r,e,t)=>Cn(r,e,t)<0;ar.exports=Nn});var ke=d((Xa,ur)=>{var bn=I(),Ln=(r,e,t)=>bn(r,e,t)===0;ur.exports=Ln});var je=d((Ha,cr)=>{var An=I(),qn=(r,e,t)=>An(r,e,t)!==0;cr.exports=qn});var de=d((Ba,lr)=>{var Dn=I(),Pn=(r,e,t)=>Dn(r,e,t)>=0;lr.exports=Pn});var Ee=d((za,fr)=>{var _n=I(),kn=(r,e,t)=>_n(r,e,t)<=0;fr.exports=kn});var Ue=d((Ka,pr)=>{var jn=ke(),Un=je(),Fn=J(),Gn=de(),Vn=me(),Mn=Ee(),Xn=(r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return jn(r,t,s);case"!=":return Un(r,t,s);case">":return Fn(r,t,s);case">=":return Gn(r,t,s);case"<":return Vn(r,t,s);case"<=":return Mn(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};pr.exports=Xn});var mr=d((Ya,hr)=>{var Hn=R(),Bn=A(),{safeRe:ge,t:ye}=k(),zn=(r,e)=>{if(r instanceof Hn)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?ge[ye.COERCEFULL]:ge[ye.COERCE]);else{let u=e.includePrerelease?ge[ye.COERCERTLFULL]:ge[ye.COERCERTL],c;for(;(c=u.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||c.index+c[0].length!==t.index+t[0].length)&&(t=c),u.lastIndex=c.index+c[1].length+c[2].length;u.lastIndex=-1}if(t===null)return null;let s=t[2],n=t[3]||"0",o=t[4]||"0",i=e.includePrerelease&&t[5]?`-${t[5]}`:"",a=e.includePrerelease&&t[6]?`+${t[6]}`:"";return Bn(`${s}.${n}.${o}${i}${a}`,e)};hr.exports=zn});var Er=d((Wa,dr)=>{var Fe=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let n=this.map.keys().next().value;this.delete(n)}this.map.set(e,t)}return this}};dr.exports=Fe});var S=d((Ja,wr)=>{var Ge=class r{constructor(e,t){if(t=Yn(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof Ve)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(n=>!yr(n[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&ro(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let s=((this.options.includePrerelease&&eo)|(this.options.loose&&to))+":"+e,n=gr.get(s);if(n)return n;let o=this.options.loose,i=o?T[w.HYPHENRANGELOOSE]:T[w.HYPHENRANGE];e=e.replace(i,po(this.options.includePrerelease)),y("hyphen replace",e),e=e.replace(T[w.COMPARATORTRIM],Jn),y("comparator trim",e),e=e.replace(T[w.TILDETRIM],Qn),y("tilde trim",e),e=e.replace(T[w.CARETTRIM],Zn),y("caret trim",e);let a=e.split(" ").map(m=>so(m,this.options)).join(" ").split(/\s+/).map(m=>fo(m,this.options));o&&(a=a.filter(m=>(y("loose invalid filter",m,this.options),!!m.match(T[w.COMPARATORLOOSE])))),y("range list",a);let u=new Map,c=a.map(m=>new Ve(m,this.options));for(let m of c){if(yr(m))return[m];u.set(m.value,m)}u.size>1&&u.has("")&&u.delete("");let h=[...u.values()];return gr.set(s,h),h}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(s=>Rr(s,t)&&e.set.some(n=>Rr(n,t)&&s.every(o=>n.every(i=>o.intersects(i,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new Wn(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(ho(this.set[t],e,this.options))return!0;return!1}};wr.exports=Ge;var Kn=Er(),gr=new Kn,Yn=le(),Ve=Q(),y=W(),Wn=R(),{safeRe:T,t:w,comparatorTrimReplace:Jn,tildeTrimReplace:Qn,caretTrimReplace:Zn}=k(),{FLAG_INCLUDE_PRERELEASE:eo,FLAG_LOOSE:to}=Y(),yr=r=>r.value==="<0.0.0-0",ro=r=>r.value==="",Rr=(r,e)=>{let t=!0,s=r.slice(),n=s.pop();for(;t&&s.length;)t=s.every(o=>n.intersects(o,e)),n=s.pop();return t},so=(r,e)=>(y("comp",r,e),r=io(r,e),y("caret",r),r=no(r,e),y("tildes",r),r=uo(r,e),y("xrange",r),r=lo(r,e),y("stars",r),r),x=r=>!r||r.toLowerCase()==="x"||r==="*",no=(r,e)=>r.trim().split(/\s+/).map(t=>oo(t,e)).join(" "),oo=(r,e)=>{let t=e.loose?T[w.TILDELOOSE]:T[w.TILDE];return r.replace(t,(s,n,o,i,a)=>{y("tilde",r,s,n,o,i,a);let u;return x(n)?u="":x(o)?u=`>=${n}.0.0 <${+n+1}.0.0-0`:x(i)?u=`>=${n}.${o}.0 <${n}.${+o+1}.0-0`:a?(y("replaceTilde pr",a),u=`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`):u=`>=${n}.${o}.${i} <${n}.${+o+1}.0-0`,y("tilde return",u),u})},io=(r,e)=>r.trim().split(/\s+/).map(t=>ao(t,e)).join(" "),ao=(r,e)=>{y("caret",r,e);let t=e.loose?T[w.CARETLOOSE]:T[w.CARET],s=e.includePrerelease?"-0":"";return r.replace(t,(n,o,i,a,u)=>{y("caret",r,n,o,i,a,u);let c;return x(o)?c="":x(i)?c=`>=${o}.0.0${s} <${+o+1}.0.0-0`:x(a)?o==="0"?c=`>=${o}.${i}.0${s} <${o}.${+i+1}.0-0`:c=`>=${o}.${i}.0${s} <${+o+1}.0.0-0`:u?(y("replaceCaret pr",u),o==="0"?i==="0"?c=`>=${o}.${i}.${a}-${u} <${o}.${i}.${+a+1}-0`:c=`>=${o}.${i}.${a}-${u} <${o}.${+i+1}.0-0`:c=`>=${o}.${i}.${a}-${u} <${+o+1}.0.0-0`):(y("no pr"),o==="0"?i==="0"?c=`>=${o}.${i}.${a}${s} <${o}.${i}.${+a+1}-0`:c=`>=${o}.${i}.${a}${s} <${o}.${+i+1}.0-0`:c=`>=${o}.${i}.${a} <${+o+1}.0.0-0`),y("caret return",c),c})},uo=(r,e)=>(y("replaceXRanges",r,e),r.split(/\s+/).map(t=>co(t,e)).join(" ")),co=(r,e)=>{r=r.trim();let t=e.loose?T[w.XRANGELOOSE]:T[w.XRANGE];return r.replace(t,(s,n,o,i,a,u)=>{y("xRange",r,s,n,o,i,a,u);let c=x(o),h=c||x(i),m=h||x(a),g=m;return n==="="&&g&&(n=""),u=e.includePrerelease?"-0":"",c?n===">"||n==="<"?s="<0.0.0-0":s="*":n&&g?(h&&(i=0),a=0,n===">"?(n=">=",h?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):n==="<="&&(n="<",h?o=+o+1:i=+i+1),n==="<"&&(u="-0"),s=`${n+o}.${i}.${a}${u}`):h?s=`>=${o}.0.0${u} <${+o+1}.0.0-0`:m&&(s=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),y("xRange return",s),s})},lo=(r,e)=>(y("replaceStars",r,e),r.trim().replace(T[w.STAR],"")),fo=(r,e)=>(y("replaceGTE0",r,e),r.trim().replace(T[e.includePrerelease?w.GTE0PRE:w.GTE0],"")),po=r=>(e,t,s,n,o,i,a,u,c,h,m,g)=>(x(s)?t="":x(n)?t=`>=${s}.0.0${r?"-0":""}`:x(o)?t=`>=${s}.${n}.0${r?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,x(c)?u="":x(h)?u=`<${+c+1}.0.0-0`:x(m)?u=`<${c}.${+h+1}.0-0`:g?u=`<=${c}.${h}.${m}-${g}`:r?u=`<${c}.${h}.${+m+1}-0`:u=`<=${u}`,`${t} ${u}`.trim()),ho=(r,e,t)=>{for(let s=0;s<r.length;s++)if(!r[s].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let s=0;s<r.length;s++)if(y(r[s].semver),r[s].semver!==Ve.ANY&&r[s].semver.prerelease.length>0){let n=r[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var Q=d((Qa,vr)=>{var Z=Symbol("SemVer ANY"),He=class r{static get ANY(){return Z}constructor(e,t){if(t=xr(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Xe("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Z?this.value="":this.value=this.operator+this.semver.version,Xe("comp",this)}parse(e){let t=this.options.loose?Tr[Ir.COMPARATORLOOSE]:Tr[Ir.COMPARATOR],s=e.match(t);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Sr(s[2],this.options.loose):this.semver=Z}toString(){return this.value}test(e){if(Xe("Comparator.test",e,this.options.loose),this.semver===Z||e===Z)return!0;if(typeof e=="string")try{e=new Sr(e,this.options)}catch{return!1}return Me(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new $r(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new $r(this.value,t).test(e.semver):(t=xr(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||Me(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||Me(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};vr.exports=He;var xr=le(),{safeRe:Tr,t:Ir}=k(),Me=Ue(),Xe=W(),Sr=R(),$r=S()});var ee=d((Za,Or)=>{var mo=S(),Eo=(r,e,t)=>{try{e=new mo(e,t)}catch{return!1}return e.test(r)};Or.exports=Eo});var Nr=d((eu,Cr)=>{var go=S(),yo=(r,e)=>new go(r,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));Cr.exports=yo});var Lr=d((tu,br)=>{var Ro=R(),wo=S(),xo=(r,e,t)=>{let s=null,n=null,o=null;try{o=new wo(e,t)}catch{return null}return r.forEach(i=>{o.test(i)&&(!s||n.compare(i)===-1)&&(s=i,n=new Ro(s,t))}),s};br.exports=xo});var qr=d((ru,Ar)=>{var To=R(),Io=S(),So=(r,e,t)=>{let s=null,n=null,o=null;try{o=new Io(e,t)}catch{return null}return r.forEach(i=>{o.test(i)&&(!s||n.compare(i)===1)&&(s=i,n=new To(s,t))}),s};Ar.exports=So});var _r=d((su,Pr)=>{var Be=R(),$o=S(),Dr=J(),vo=(r,e)=>{r=new $o(r,e);let t=new Be("0.0.0");if(r.test(t)||(t=new Be("0.0.0-0"),r.test(t)))return t;t=null;for(let s=0;s<r.set.length;++s){let n=r.set[s],o=null;n.forEach(i=>{let a=new Be(i.semver.version);switch(i.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Dr(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),o&&(!t||Dr(t,o))&&(t=o)}return t&&r.test(t)?t:null};Pr.exports=vo});var jr=d((nu,kr)=>{var Oo=S(),Co=(r,e)=>{try{return new Oo(r,e).range||"*"}catch{return null}};kr.exports=Co});var Re=d((ou,Vr)=>{var No=R(),Gr=Q(),{ANY:bo}=Gr,Lo=S(),Ao=ee(),Ur=J(),Fr=me(),qo=Ee(),Do=de(),Po=(r,e,t,s)=>{r=new No(r,s),e=new Lo(e,s);let n,o,i,a,u;switch(t){case">":n=Ur,o=qo,i=Fr,a=">",u=">=";break;case"<":n=Fr,o=Do,i=Ur,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ao(r,e,s))return!1;for(let c=0;c<e.set.length;++c){let h=e.set[c],m=null,g=null;if(h.forEach(l=>{l.semver===bo&&(l=new Gr(">=0.0.0")),m=m||l,g=g||l,n(l.semver,m.semver,s)?m=l:i(l.semver,g.semver,s)&&(g=l)}),m.operator===a||m.operator===u||(!g.operator||g.operator===a)&&o(r,g.semver))return!1;if(g.operator===u&&i(r,g.semver))return!1}return!0};Vr.exports=Po});var Xr=d((iu,Mr)=>{var _o=Re(),ko=(r,e,t)=>_o(r,e,">",t);Mr.exports=ko});var Br=d((au,Hr)=>{var jo=Re(),Uo=(r,e,t)=>jo(r,e,"<",t);Hr.exports=Uo});var Yr=d((uu,Kr)=>{var zr=S(),Fo=(r,e,t)=>(r=new zr(r,t),e=new zr(e,t),r.intersects(e,t));Kr.exports=Fo});var Jr=d((cu,Wr)=>{var Go=ee(),Vo=I();Wr.exports=(r,e,t)=>{let s=[],n=null,o=null,i=r.sort((h,m)=>Vo(h,m,t));for(let h of i)Go(h,e,t)?(o=h,n||(n=h)):(o&&s.push([n,o]),o=null,n=null);n&&s.push([n,null]);let a=[];for(let[h,m]of s)h===m?a.push(h):!m&&h===i[0]?a.push("*"):m?h===i[0]?a.push(`<=${m}`):a.push(`${h} - ${m}`):a.push(`>=${h}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var ss=d((lu,rs)=>{var Qr=S(),Ke=Q(),{ANY:ze}=Ke,te=ee(),Ye=I(),Mo=(r,e,t={})=>{if(r===e)return!0;r=new Qr(r,t),e=new Qr(e,t);let s=!1;e:for(let n of r.set){for(let o of e.set){let i=Ho(n,o,t);if(s=s||i!==null,i)continue e}if(s)return!1}return!0},Xo=[new Ke(">=0.0.0-0")],Zr=[new Ke(">=0.0.0")],Ho=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===ze){if(e.length===1&&e[0].semver===ze)return!0;t.includePrerelease?r=Xo:r=Zr}if(e.length===1&&e[0].semver===ze){if(t.includePrerelease)return!0;e=Zr}let s=new Set,n,o;for(let l of r)l.operator===">"||l.operator===">="?n=es(n,l,t):l.operator==="<"||l.operator==="<="?o=ts(o,l,t):s.add(l.semver);if(s.size>1)return null;let i;if(n&&o){if(i=Ye(n.semver,o.semver,t),i>0)return null;if(i===0&&(n.operator!==">="||o.operator!=="<="))return null}for(let l of s){if(n&&!te(l,String(n),t)||o&&!te(l,String(o),t))return null;for(let $ of e)if(!te(l,String($),t))return!1;return!0}let a,u,c,h,m=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,g=n&&!t.includePrerelease&&n.semver.prerelease.length?n.semver:!1;m&&m.prerelease.length===1&&o.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let l of e){if(h=h||l.operator===">"||l.operator===">=",c=c||l.operator==="<"||l.operator==="<=",n){if(g&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===g.major&&l.semver.minor===g.minor&&l.semver.patch===g.patch&&(g=!1),l.operator===">"||l.operator===">="){if(a=es(n,l,t),a===l&&a!==n)return!1}else if(n.operator===">="&&!te(n.semver,String(l),t))return!1}if(o){if(m&&l.semver.prerelease&&l.semver.prerelease.length&&l.semver.major===m.major&&l.semver.minor===m.minor&&l.semver.patch===m.patch&&(m=!1),l.operator==="<"||l.operator==="<="){if(u=ts(o,l,t),u===l&&u!==o)return!1}else if(o.operator==="<="&&!te(o.semver,String(l),t))return!1}if(!l.operator&&(o||n)&&i!==0)return!1}return!(n&&c&&!o&&i!==0||o&&h&&!n&&i!==0||g||m)},es=(r,e,t)=>{if(!r)return e;let s=Ye(r.semver,e.semver,t);return s>0?r:s<0||e.operator===">"&&r.operator===">="?e:r},ts=(r,e,t)=>{if(!r)return e;let s=Ye(r.semver,e.semver,t);return s<0?r:s>0||e.operator==="<"&&r.operator==="<="?e:r};rs.exports=Mo});var Je=d((fu,is)=>{var We=k(),ns=Y(),Bo=R(),os=Pe(),zo=A(),Ko=Lt(),Yo=qt(),Wo=_t(),Jo=Ut(),Qo=Gt(),Zo=Mt(),ei=Ht(),ti=zt(),ri=I(),si=Jt(),ni=Zt(),oi=he(),ii=sr(),ai=or(),ui=J(),ci=me(),li=ke(),fi=je(),pi=de(),hi=Ee(),mi=Ue(),di=mr(),Ei=Q(),gi=S(),yi=ee(),Ri=Nr(),wi=Lr(),xi=qr(),Ti=_r(),Ii=jr(),Si=Re(),$i=Xr(),vi=Br(),Oi=Yr(),Ci=Jr(),Ni=ss();is.exports={parse:zo,valid:Ko,clean:Yo,inc:Wo,diff:Jo,major:Qo,minor:Zo,patch:ei,prerelease:ti,compare:ri,rcompare:si,compareLoose:ni,compareBuild:oi,sort:ii,rsort:ai,gt:ui,lt:ci,eq:li,neq:fi,gte:pi,lte:hi,cmp:mi,coerce:di,Comparator:Ei,Range:gi,satisfies:yi,toComparators:Ri,maxSatisfying:wi,minSatisfying:xi,minVersion:Ti,validRange:Ii,outside:Si,gtr:$i,ltr:vi,intersects:Oi,simplifyRange:Ci,subset:Ni,SemVer:Bo,re:We.re,src:We.src,tokens:We.t,SEMVER_SPEC_VERSION:ns.SEMVER_SPEC_VERSION,RELEASE_TYPES:ns.RELEASE_TYPES,compareIdentifiers:os.compareIdentifiers,rcompareIdentifiers:os.rcompareIdentifiers}});var Gi={};Ns(Gi,{activate:()=>Ui,deactivate:()=>Fi});module.exports=bs(Gi);var X=require("vscode");function D(r){return'"'+r+'"'}function nt(r){return r===void 0?!0:typeof r=="string"||Array.isArray(r)?r.length===0:typeof r=="object"&&r!==null?Object.keys(r).length===0:!1}var Oe="abcdefghijklmnopqrstuvwxyz";function P(r){if(r<0||!Number.isInteger(r))throw new Error("Input must be a non-negative integer.");let e=Math.floor(r/Oe.length),t=Oe[r%Oe.length];return"z".repeat(e)+t}var H=class extends Error{constructor(e,t,s){let n=e.status||e.status===0?e.status:"",o=e.statusText||"",i=`${n} ${o}`.trim(),a=i?`status code ${i}`:"an unknown error";super(`Request failed with ${a}: ${t.method} ${t.url}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=s}};var _=class extends Error{constructor(e){super(`Request timed out: ${e.method} ${e.url}`),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}};var B=r=>r!==null&&typeof r=="object";var z=(...r)=>{for(let e of r)if((!B(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return ie({},...r)},Ce=(r={},e={})=>{let t=new globalThis.Headers(r),s=e instanceof globalThis.Headers,n=new globalThis.Headers(e);for(let[o,i]of n.entries())s&&i==="undefined"||i===void 0?t.delete(o):t.set(o,i);return t},ie=(...r)=>{let e={},t={};for(let s of r)if(Array.isArray(s))Array.isArray(e)||(e=[]),e=[...e,...s];else if(B(s)){for(let[n,o]of Object.entries(s))B(o)&&n in e&&(o=ie(e[n],o)),e={...e,[n]:o};B(s.headers)&&(t=Ce(t,s.headers),e.headers=t)}return e};var ot=(()=>{let r=!1,e=!1,t=typeof globalThis.ReadableStream=="function",s=typeof globalThis.Request=="function";if(t&&s)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type")}catch(n){if(n instanceof Error&&n.message==="unsupported BodyInit type")return!1;throw n}return r&&!e})(),it=typeof globalThis.AbortController=="function",at=typeof globalThis.ReadableStream=="function",ut=typeof globalThis.FormData=="function",ae=["get","post","put","patch","head","delete"],Ls=()=>{};Ls();var ct={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},ue=2147483647,ce=Symbol("stop"),lt={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},ft={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0};var ht=r=>ae.includes(r)?r.toUpperCase():r,As=["get","put","head","delete","options","trace"],qs=[408,413,429,500,502,503,504],mt=[413,429,503],pt={limit:2,methods:As,statusCodes:qs,afterStatusCodes:mt,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:r=>.3*2**(r-1)*1e3},dt=(r={})=>{if(typeof r=="number")return{...pt,limit:r};if(r.methods&&!Array.isArray(r.methods))throw new Error("retry.methods must be an array");if(r.statusCodes&&!Array.isArray(r.statusCodes))throw new Error("retry.statusCodes must be an array");return{...pt,...r,afterStatusCodes:mt}};async function Ne(r,e,t,s){return new Promise((n,o)=>{let i=setTimeout(()=>{t&&t.abort(),o(new _(r))},s.timeout);s.fetch(r,e).then(n).catch(o).then(()=>{clearTimeout(i)})})}async function be(r,{signal:e}){return new Promise((t,s)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",n,{once:!0}));function n(){clearTimeout(o),s(e.reason)}let o=setTimeout(()=>{e?.removeEventListener("abort",n),t()},r)})}var Et=(r,e)=>{let t={};for(let s in e)!(s in ft)&&!(s in lt)&&!(s in r)&&(t[s]=e[s]);return t};var K=class r{static create(e,t){let s=new r(e,t),n=async()=>{if(typeof s._options.timeout=="number"&&s._options.timeout>ue)throw new RangeError(`The \`timeout\` option cannot be greater than ${ue}`);await Promise.resolve();let a=await s._fetch();for(let u of s._options.hooks.afterResponse){let c=await u(s.request,s._options,s._decorateResponse(a.clone()));c instanceof globalThis.Response&&(a=c)}if(s._decorateResponse(a),!a.ok&&s._options.throwHttpErrors){let u=new H(a,s.request,s._options);for(let c of s._options.hooks.beforeError)u=await c(u);throw u}if(s._options.onDownloadProgress){if(typeof s._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!at)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return s._stream(a.clone(),s._options.onDownloadProgress)}return a},i=s._options.retry.methods.includes(s.request.method.toLowerCase())?s._retry(n):n();for(let[a,u]of Object.entries(ct))i[a]=async()=>{s.request.headers.set("accept",s.request.headers.get("accept")||u);let h=(await i).clone();if(a==="json"){if(h.status===204||(await h.clone().arrayBuffer()).byteLength===0)return"";if(t.parseJson)return t.parseJson(await h.text())}return h[a]()};return i}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e;let s=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...s&&{credentials:s},...t,headers:Ce(this._input.headers,t.headers),hooks:ie({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:ht(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:dt(t.retry),throwHttpErrors:t.throwHttpErrors!==!1,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(it){if(this.abortController=new globalThis.AbortController,this._options.signal){let n=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(n.reason)})}this._options.signal=this.abortController.signal}if(ot&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let o="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),i=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,o);(ut&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(i,{...this.request}),this._options)}}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(e instanceof _)){if(e instanceof H){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;let s=e.response.headers.get("Retry-After");if(s&&this._options.retry.afterStatusCodes.includes(e.response.status)){let n=Number(s)*1e3;Number.isNaN(n)&&(n=Date.parse(s)-Date.now());let o=this._options.retry.maxRetryAfter??n;return n<o?n:o}if(e.response.status===413)return 0}let t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(t){let s=Math.min(this._calculateRetryDelay(t),ue);if(s!==0&&this._retryCount>0){await be(s,{signal:this._options.signal});for(let n of this._options.hooks.beforeRetry)if(await n({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===ce)return;return this._retry(e)}throw t}}async _fetch(){for(let s of this._options.hooks.beforeRequest){let n=await s(this.request,this._options);if(n instanceof Request){this.request=n;break}if(n instanceof Response)return n}let e=Et(this.request,this._options),t=this.request;return this.request=t.clone(),this._options.timeout===!1?this._options.fetch(t,e):Ne(t,e,this.abortController,this._options)}_stream(e,t){let s=Number(e.headers.get("content-length"))||0,n=0;return e.status===204?(t&&t({percent:1,totalBytes:s,transferredBytes:n},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(o){let i=e.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:s},new Uint8Array);async function a(){let{done:u,value:c}=await i.read();if(u){o.close();return}if(t){n+=c.byteLength;let h=s===0?0:n/s;t({percent:h,transferredBytes:n,totalBytes:s},c)}o.enqueue(c),await a()}await a()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}};var Le=r=>{let e=(t,s)=>K.create(t,z(r,s));for(let t of ae)e[t]=(s,n)=>K.create(s,z(r,n,{method:t}));return e.create=t=>Le(z(t)),e.extend=t=>Le(z(r,t)),e.stop=ce,e},Ds=Le(),Ae=Ds;var as=st(Je()),bi="https://index.crates.io";async function us(r,e=bi){let t=r.replace(/"/g,"").toLocaleLowerCase(),s="";t.length<=2?s=t.length.toString():t.length===3?s="3/"+t.substring(0,1):s=t.substring(0,2)+"/"+t.substring(2,4);let n=await Ae.get(`${e}/${s}/${t}`);if(n.status!==200)throw new Error(`get crates metadata error: statusCode=${n.status} ${await n.text()}`);let o=(await n.text()).split(`
`).filter(g=>g),i=[],a={},u={},c=[],h=null,m=null;for(let g=o.length-1;g>=0;g--){let l=JSON.parse(o[g]);l.yanked===!1&&(i.push(l.vers),h===null&&(0,as.prerelease)(l.vers)===null?h=l.vers:m===null&&(m=l.vers),l.rust_version&&(u[l.vers]=l.rust_version),a[l.vers]=Object.keys(l.features).filter($=>$==="default"?(c=l.features.default,!1):!0))}return{name:r,versions:i,features:a,defaultFeatures:c,rustVersion:u,createdAt:new Date().getUTCMilliseconds(),latestStable:h,latestPrerelease:m}}async function Qe(r){if(r==="")return[];let e=await Ae.get("https://crates.io/api/v1/crates?page=1&per_page=30&q="+r,{headers:{"User-Agent":"VSCodeExtension/crates-cmp"}});if(e.status!==200)throw new Error(`search crate error: statusCode=${e.status} ${await e.text()}`);return(await e.json()).crates}async function U(r,e){let t=Li(e),s=r.globalState.get(t);if(!s||s.createdAt>new Date().getUTCMilliseconds()-1e3*60*10){let n=await us(e);return r.globalState.update(t,n),n}return s}function Li(r){return`crates-cmp:metadata:${r}`}async function cs(r,e){return(await U(r,e)).versions}var re=Symbol("None"),se=class r{val;constructor(e){this.val=e}get[Symbol.toStringTag](){return"Option"}*[Symbol.iterator](){this.isSome()&&(yield this.val)}isSome(){return this.val!==re}isNone(){return this.val===re}expect(e){if(this.isNone())throw new Error(e);return this.val}unwrap(){if(this.isNone())throw new Error("Unwrap called on None");return this.val}unwrapOr(e){return this.isNone()?e:this.val}unwrapOrElse(e){return this.isNone()?e():this.val}map(e){return this.isSome()?new r(e(this.val)):this}mapOr(e,t){return this.isSome()?t(this.val):e}or(e){return this.isSome()?this:e}okOr(e){return this.isSome()?F(this.val):G(e)}peek(){return this.val}flatten(){return this.val instanceof r?this.val:this}static from(e){let t=e();return t==null?new r(re):new r(t)}static async fromAsync(e){let t=await e();return t==null?new r(re):new r(t)}};function we(r){return new se(r)}Object.defineProperty(we,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isSome()||!1});function xe(){return new se(re)}Object.defineProperty(xe,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isNone()||!1});var V=class r{val;constructor(e){this.val=e}get[Symbol.toStringTag](){return"Result"}*[Symbol.iterator](){this.isOk()&&(yield this.val)}isOk(){return!(this.val instanceof Error||this.val&&typeof this.val=="object"&&Error.isPrototypeOf(this.val))}isErr(){return this.val instanceof Error||this.val&&typeof this.val=="object"&&Error.isPrototypeOf(this.val)}formatError(e){throw e.stack=`${e.message}: ${this.val.stack?`
	`+this.val.stack.split(`
`).join(`
	`):this.val.message}`,e}expect(e){return this.isErr()&&this.formatError(new Error(e)),this.val}expectErr(e){return this.isOk()&&this.formatError(new Error(e)),this.val}unwrap(){return this.isErr()&&this.formatError(new Error(`Unwrap called on ${this.val.name}`)),this.val}unwrapErr(){if(this.isOk())throw new Error(`UnwrapError called on value - ${this.val}`);return this.val}unwrapOr(e){return this.isErr()?e:this.val}unwrapOrElse(e){return this.isErr()?e(this.val):this.val}map(e){return this.isOk()?new r(e(this.val)):this}mapErr(e){return this.isOk()?this:new r(e(this.val))}mapOr(e,t){return this.isOk()?t(this.val):e}or(e){return this.isOk()?this:e}ok(){return this.isOk()?we(this.val):xe()}peek(){return this.val}throw(){if(this.isErr())throw this.val}flatten(){return this.val instanceof r?this.val:this}static from(e){try{return new r(e())}catch(t){return new r(t)}}static async fromAsync(e){try{return new r(await e())}catch(t){return new r(t)}}static partition(e){return e.reduce((t,s)=>(s.isOk()?t.ok.push(s.unwrap()):t.err.push(s.unwrapErr()),t),{ok:[],err:[]})}};function F(r){return new V(r)}Object.defineProperty(F,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isOk()||!1});function G(r){return typeof r=="string"?new V(new Error(r)):new V(r)}Object.defineProperty(G,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isErr()||!1});async function v(r){try{let e=await r;return F(e)}catch(e){return G(e)}}async function ls(r,e,t,s){if(e==="")return[];let n=await v(U(r,e));if(n.isErr())throw n.unwrapErr();let o=n.unwrap();if(s&&s.length!==0){let i=o.features[t]??[],a={};for(let u of s)a[u]=!0;return i.filter(u=>!a[u])}return t!==""&&o.features[t]?o.features[t]:o.versions.length!==0?o.features[o.versions[o.versions.length-1]]??[]:[]}function Ze(r,e,t){switch(e){case"Crate":return r+":crate";case"Version":return r+":version:"+t;case"Feature":return r+":feature:"+t}}function ne(r){return Ze(r,"Crate")}function q(r,e){return Ze(r,"Version",e)}function et(r,e){return Ze(r,"Feature",e)}var hs=require("vscode"),M=st(Je());function ms(r,e){if(e.length===0)return[];let t=[];for(let s of e)t.push(qi(r,s));return t}async function qi(r,e){let t=await U(r,e.name),s=Di(e,t);return{name:e.name,decoration:s.decoration,diagnostics:s.diagnostics}}function Di(r,e){let t={name:r.name},s=!1;for(let n of e.versions)if((0,M.satisfies)(n,r.version)){s=!0;break}if(!s)return t.diagnostics=[{key:q(r.name,r.version),type:"Version",servity:hs.DiagnosticSeverity.Error,message:"Version not exist, latest stable: "+e.latestStable,source:"extension: crates-cmp"}],t;if((0,M.prerelease)(r.version)===null){if(!(0,M.satisfies)(e.latestStable,r.version))return t.decoration=ps(r.name,e.latestStable),t;t.decoration=fs(r.name,e.latestStable)}else{if(e.latestPrerelease===null)return console.log("diag: not pre release",r.name),t;if(!(0,M.satisfies)(e.latestPrerelease,r.version))return t.decoration=ps(r.name,e.latestPrerelease),t;t.decoration=fs(r.name,e.latestPrerelease)}return t}function fs(r,e){return{key:ne(r),status:"Latest",latest:e}}function ps(r,e){return{key:ne(r),status:"Outdated",latest:e}}var N=require("vscode");async function tt(r,e,t){let s=await v(cs(r,e));if(s.isErr())return N.window.showErrorMessage(s.unwrapErr().message),[];let n=s.unwrap().map((o,i)=>{let a=new N.CompletionItem(D(o),N.CompletionItemKind.Constant);return a.insertText=D(o),a.sortText=P(i++),a.preselect=i===0,a.range=t,a});return new N.CompletionList(n)}var b=require("vscode");async function ds(r,e,t,s,n){let o=await v(ls(r,e,t,s));if(o.isErr())return b.window.showErrorMessage(o.unwrapErr().message),[];let i=o.unwrap().map((a,u)=>{let c=new b.CompletionItem(D(a),b.CompletionItemKind.Constant);return c.insertText=D(a),c.sortText=P(u++),c.preselect=u===0,c.range=n,c});return new b.CompletionList(i)}async function Es(r){return Qe(r)}var C=require("vscode");async function gs(r,e){let t=Pi(r,e),s=await v(Es(t));if(s.isErr())return C.window.showErrorMessage(s.unwrapErr().message),[];let[n,o]=_i(t);return s.unwrap().map((a,u)=>{let c=new C.CompletionItem(a.name,C.CompletionItemKind.Constant);return c.insertText=a.name,c.documentation=a.description,c.detail="max version: "+a.max_version,c.sortText=P(u++),c.preselect=u===0,c.range=new C.Range(e.line,n,e.line,o),c})}function Pi(r,e){let t=new C.Range(e.line,0,e.line,e.character);return r.getText(t)}function _i(r){let e=-1,t=-1;for(let s=0;s<r.length;s++)r[s].trim()!==""&&(e===-1&&(e=s),t=s);return[e,t]}var ys=require("vscode");function Rs(r,e){return new Promise((t,s)=>{ys.commands.executeCommand(r,e).then(n=>{nt(n)&&s("symbol provider undefined"),t(n)},n=>s(n))})}var Ts=require("vscode");var ws=require("vscode");function L(r){return r&&new ws.Range(r.start.translate(0,1),r.end.translate(0,-1))}function xs(r){return new Promise(e=>setTimeout(e,r))}async function Te(r){for(let e=0;e<3;e++){let t=await v(Rs("vscode.executeDocumentSymbolProvider",r));if(console.log("waiting for Even better toml"),t.isOk())return t.unwrap();await xs(300)}return Ts.window.showErrorMessage("Require `Even Better TOML` extension"),[]}function Is(r,e){let t=[],s={},n=[];for(let o of r)if(o.name.includes("dependencies")&&o.children&&o.children.length>0)for(let i of o.children){let a={name:"",version:"",features:[]},u=i.name;if(n.push(u),a.name=u,s[ne(a.name)]=i.range,i.children.length!==0)for(let c of i.children){if(c.name==="version"){let h=e.getText(L(c.range));a.version=h,s[q(u,h)];continue}if(c.name==="features"){if(c.children.length!==0)for(let h of c.children){let m=e.getText(L(h.range));s[et(u,m)],a.features.push(m)}else{let h=e.getText(L(c.range));s[et(u,h)],a.features.push(h)}continue}}else{let c=e.getText(L(i.range));a.version=c,s[q(u,c)]}a.version!==""&&t.push(a)}return[t,s,n]}var Ie=class{context;constructor(e){this.context=e}provideCompletionItems(e,t,s,n){return new Promise(async o=>{let i=await this.completionItems(e,t,s,n);o(i)})}async completionItems(e,t,s,n){let o=await Te(e.uri);if(o.length===0)return[];let i=!1,a=!1,u,c,h,m;for(let g of o)if(g.name.includes("dependencies")&&(i=!0,g.range.contains(t)&&g.children&&g.children.length>0)){for(let l of g.children)if(l.range.contains(t)){if(u=l.name,c=l.range,l.children&&l.children.length>0){a=!0;for(let $ of l.children){if($.name==="version"){h=$;continue}if($.name==="features"){m=$;continue}}}break}}if(!i)return[];if(u){if(h&&h.range.contains(t))return await tt(this.context,u,h.range);if(m&&m.children.length!==0){if(m.range.contains(t)){let g=e.getText(L(h?.range)),l,$=[];for(let ve of m.children){if(ve.range.contains(t)){l=ve.range;continue}$.push(e.getText(L(ve.range)))}return await ds(this.context,u,g,$,l)}return[]}if(!a)return await tt(this.context,u,c)}return await gs(e,t)}};var $e=require("vscode");var Se=class{ctx;decorationState;crates=new Set;constructor(e){this.ctx=e,this.decorationState={}}async onChange(e){let t=await Te(e.uri);if(t.length===0)return;let[s,n,o]=Is(t,e);this.updateCrates(o);let i=ms(this.ctx,s);for(;i.length>0;){let{promise:a,result:u}=await Promise.race(i.map(c=>c.then(h=>({promise:c,result:h}),h=>({promise:c,result:h}))));if(u instanceof Error)console.error("Rejected reason:",u);else{if(u.decoration){let c=this.decoration(u.name,u.decoration);c!==null&&$e.window.activeTextEditor?.setDecorations(c,[n[u.decoration.key]])}u.diagnostics}i=i.filter(c=>c!==a)}}async onDidChangeTextDocument(e){e.document.fileName.endsWith("Cargo.toml")&&!e.document.isDirty&&await this.onChange(e.document)}async onDidChangeActiveEditor(e){e&&await this.onChange(e.document)}updateCrates(e){let t=new Set(e),s=[...this.crates].filter(n=>!t.has(n));s.forEach(n=>this.crates.delete(n)),e.forEach(n=>this.crates.add(n));for(let n of s)delete this.decorationState[n]}decoration(e,t){let s=q(e,t.latest),n=this.decorationState[e];if(n){if(n.key===s&&n.status===t.status)return null;n.decoration.dispose()}switch(t.status){case"Latest":let o=ki(t.latest);return this.decorationState[e]={key:s,status:t.status,decoration:o},o;case"Outdated":let i=ji(t.latest);return this.decorationState[e]={key:s,status:t.status,decoration:i},i}}};function ki(r){return $e.window.createTextEditorDecorationType({after:{contentText:"\u2705 "+r,color:"green",margin:"0 0 0 2em"}})}function ji(r){return $e.window.createTextEditorDecorationType({after:{contentText:"\u{1F7E1} "+r,color:"orange",margin:"0 0 0 2em"}})}function Ui(r){let e={language:"toml",pattern:"**/Cargo.toml"},t=new Se(r);r.subscriptions.push(X.window.onDidChangeActiveTextEditor(t.onDidChangeActiveEditor,t),X.workspace.onDidChangeTextDocument(t.onDidChangeTextDocument,t),X.languages.registerCompletionItemProvider(e,new Ie(r),'"',".","+","-","0","1","2","3","4","5","6","7","8","9"))}function Fi(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

ky/distribution/index.js:
  (*! MIT License © Sindre Sorhus *)
*/
