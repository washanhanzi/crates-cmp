"use strict";var Un=Object.create;var oe=Object.defineProperty;var Fn=Object.getOwnPropertyDescriptor;var Gn=Object.getOwnPropertyNames;var Vn=Object.getPrototypeOf,Mn=Object.prototype.hasOwnProperty;var m=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Xn=(r,e)=>{for(var t in e)oe(r,t,{get:e[t],enumerable:!0})},ut=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Gn(e))!Mn.call(r,s)&&s!==t&&oe(r,s,{get:()=>e[s],enumerable:!(n=Fn(e,s))||n.enumerable});return r};var Ce=(r,e,t)=>(t=r!=null?Un(Vn(r)):{},ut(e||!r||!r.__esModule?oe(t,"default",{value:r,enumerable:!0}):t,r)),Bn=r=>ut(oe({},"__esModule",{value:!0}),r);var W=m((ka,Nt)=>{var Kn="2.0.0",Jn=Number.MAX_SAFE_INTEGER||9007199254740991,Qn=16,Zn=250,es=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Nt.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Qn,MAX_SAFE_BUILD_LENGTH:Zn,MAX_SAFE_INTEGER:Jn,RELEASE_TYPES:es,SEMVER_SPEC_VERSION:Kn,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Y=m((_a,St)=>{var ts=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};St.exports=ts});var j=m((v,bt)=>{var{MAX_SAFE_COMPONENT_LENGTH:_e,MAX_SAFE_BUILD_LENGTH:rs,MAX_LENGTH:ns}=W(),ss=Y();v=bt.exports={};var os=v.re=[],is=v.safeRe=[],l=v.src=[],f=v.t={},as=0,je="[a-zA-Z0-9-]",cs=[["\\s",1],["\\d",ns],[je,rs]],us=r=>{for(let[e,t]of cs)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},E=(r,e,t)=>{let n=us(e),s=as++;ss(r,s,e),f[r]=s,l[s]=e,os[s]=new RegExp(e,t?"g":void 0),is[s]=new RegExp(n,t?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","\\d+");E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${je}*`);E("MAINVERSION",`(${l[f.NUMERICIDENTIFIER]})\\.(${l[f.NUMERICIDENTIFIER]})\\.(${l[f.NUMERICIDENTIFIER]})`);E("MAINVERSIONLOOSE",`(${l[f.NUMERICIDENTIFIERLOOSE]})\\.(${l[f.NUMERICIDENTIFIERLOOSE]})\\.(${l[f.NUMERICIDENTIFIERLOOSE]})`);E("PRERELEASEIDENTIFIER",`(?:${l[f.NUMERICIDENTIFIER]}|${l[f.NONNUMERICIDENTIFIER]})`);E("PRERELEASEIDENTIFIERLOOSE",`(?:${l[f.NUMERICIDENTIFIERLOOSE]}|${l[f.NONNUMERICIDENTIFIER]})`);E("PRERELEASE",`(?:-(${l[f.PRERELEASEIDENTIFIER]}(?:\\.${l[f.PRERELEASEIDENTIFIER]})*))`);E("PRERELEASELOOSE",`(?:-?(${l[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[f.PRERELEASEIDENTIFIERLOOSE]})*))`);E("BUILDIDENTIFIER",`${je}+`);E("BUILD",`(?:\\+(${l[f.BUILDIDENTIFIER]}(?:\\.${l[f.BUILDIDENTIFIER]})*))`);E("FULLPLAIN",`v?${l[f.MAINVERSION]}${l[f.PRERELEASE]}?${l[f.BUILD]}?`);E("FULL",`^${l[f.FULLPLAIN]}$`);E("LOOSEPLAIN",`[v=\\s]*${l[f.MAINVERSIONLOOSE]}${l[f.PRERELEASELOOSE]}?${l[f.BUILD]}?`);E("LOOSE",`^${l[f.LOOSEPLAIN]}$`);E("GTLT","((?:<|>)?=?)");E("XRANGEIDENTIFIERLOOSE",`${l[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);E("XRANGEIDENTIFIER",`${l[f.NUMERICIDENTIFIER]}|x|X|\\*`);E("XRANGEPLAIN",`[v=\\s]*(${l[f.XRANGEIDENTIFIER]})(?:\\.(${l[f.XRANGEIDENTIFIER]})(?:\\.(${l[f.XRANGEIDENTIFIER]})(?:${l[f.PRERELEASE]})?${l[f.BUILD]}?)?)?`);E("XRANGEPLAINLOOSE",`[v=\\s]*(${l[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[f.XRANGEIDENTIFIERLOOSE]})(?:${l[f.PRERELEASELOOSE]})?${l[f.BUILD]}?)?)?`);E("XRANGE",`^${l[f.GTLT]}\\s*${l[f.XRANGEPLAIN]}$`);E("XRANGELOOSE",`^${l[f.GTLT]}\\s*${l[f.XRANGEPLAINLOOSE]}$`);E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${_e}})(?:\\.(\\d{1,${_e}}))?(?:\\.(\\d{1,${_e}}))?`);E("COERCE",`${l[f.COERCEPLAIN]}(?:$|[^\\d])`);E("COERCEFULL",l[f.COERCEPLAIN]+`(?:${l[f.PRERELEASE]})?(?:${l[f.BUILD]})?(?:$|[^\\d])`);E("COERCERTL",l[f.COERCE],!0);E("COERCERTLFULL",l[f.COERCEFULL],!0);E("LONETILDE","(?:~>?)");E("TILDETRIM",`(\\s*)${l[f.LONETILDE]}\\s+`,!0);v.tildeTrimReplace="$1~";E("TILDE",`^${l[f.LONETILDE]}${l[f.XRANGEPLAIN]}$`);E("TILDELOOSE",`^${l[f.LONETILDE]}${l[f.XRANGEPLAINLOOSE]}$`);E("LONECARET","(?:\\^)");E("CARETTRIM",`(\\s*)${l[f.LONECARET]}\\s+`,!0);v.caretTrimReplace="$1^";E("CARET",`^${l[f.LONECARET]}${l[f.XRANGEPLAIN]}$`);E("CARETLOOSE",`^${l[f.LONECARET]}${l[f.XRANGEPLAINLOOSE]}$`);E("COMPARATORLOOSE",`^${l[f.GTLT]}\\s*(${l[f.LOOSEPLAIN]})$|^$`);E("COMPARATOR",`^${l[f.GTLT]}\\s*(${l[f.FULLPLAIN]})$|^$`);E("COMPARATORTRIM",`(\\s*)${l[f.GTLT]}\\s*(${l[f.LOOSEPLAIN]}|${l[f.XRANGEPLAIN]})`,!0);v.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE",`^\\s*(${l[f.XRANGEPLAIN]})\\s+-\\s+(${l[f.XRANGEPLAIN]})\\s*$`);E("HYPHENRANGELOOSE",`^\\s*(${l[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[f.XRANGEPLAINLOOSE]})\\s*$`);E("STAR","(<|>)?=?\\s*\\*");E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var le=m((ja,It)=>{var ls=Object.freeze({loose:!0}),fs=Object.freeze({}),ps=r=>r?typeof r!="object"?ls:r:fs;It.exports=ps});var Ue=m((Ua,Ot)=>{var vt=/^[0-9]+$/,$t=(r,e)=>{let t=vt.test(r),n=vt.test(e);return t&&n&&(r=+r,e=+e),r===e?0:t&&!n?-1:n&&!t?1:r<e?-1:1},hs=(r,e)=>$t(e,r);Ot.exports={compareIdentifiers:$t,rcompareIdentifiers:hs}});var w=m((Fa,At)=>{var fe=Y(),{MAX_LENGTH:Ct,MAX_SAFE_INTEGER:pe}=W(),{safeRe:Dt,t:Lt}=j(),ds=le(),{compareIdentifiers:U}=Ue(),Fe=class r{constructor(e,t){if(t=ds(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Ct)throw new TypeError(`version is longer than ${Ct} characters`);fe("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let n=e.trim().match(t.loose?Dt[Lt.LOOSE]:Dt[Lt.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>pe||this.major<0)throw new TypeError("Invalid major version");if(this.minor>pe||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>pe||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let o=+s;if(o>=0&&o<pe)return o}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(fe("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),U(this.major,e.major)||U(this.minor,e.minor)||U(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let n=this.prerelease[t],s=e.prerelease[t];if(fe("prerelease compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return U(n,s)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let n=this.build[t],s=e.build[t];if(fe("build compare",t,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n===s)continue;return U(n,s)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let s=Number(n)?1:0;if(!t&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[s];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(t===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(s)}}if(t){let o=[t,s];n===!1&&(o=[t]),U(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};At.exports=Fe});var L=m((Ga,Pt)=>{var qt=w(),ms=(r,e,t=!1)=>{if(r instanceof qt)return r;try{return new qt(r,e)}catch(n){if(!t)return null;throw n}};Pt.exports=ms});var _t=m((Va,kt)=>{var Es=L(),gs=(r,e)=>{let t=Es(r,e);return t?t.version:null};kt.exports=gs});var Ut=m((Ma,jt)=>{var ys=L(),xs=(r,e)=>{let t=ys(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};jt.exports=xs});var Vt=m((Xa,Gt)=>{var Ft=w(),ws=(r,e,t,n,s)=>{typeof t=="string"&&(s=n,n=t,t=void 0);try{return new Ft(r instanceof Ft?r.version:r,t).inc(e,n,s).version}catch{return null}};Gt.exports=ws});var Bt=m((Ba,Xt)=>{var Mt=L(),Rs=(r,e)=>{let t=Mt(r,null,!0),n=Mt(e,null,!0),s=t.compare(n);if(s===0)return null;let o=s>0,i=o?t:n,a=o?n:t,c=!!i.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":i.patch?"patch":i.minor?"minor":"major";let d=c?"pre":"";return t.major!==n.major?d+"major":t.minor!==n.minor?d+"minor":t.patch!==n.patch?d+"patch":"prerelease"};Xt.exports=Rs});var zt=m((Ha,Ht)=>{var Ts=w(),Ns=(r,e)=>new Ts(r,e).major;Ht.exports=Ns});var Yt=m((za,Wt)=>{var Ss=w(),bs=(r,e)=>new Ss(r,e).minor;Wt.exports=bs});var Jt=m((Wa,Kt)=>{var Is=w(),vs=(r,e)=>new Is(r,e).patch;Kt.exports=vs});var Zt=m((Ya,Qt)=>{var $s=L(),Os=(r,e)=>{let t=$s(r,e);return t&&t.prerelease.length?t.prerelease:null};Qt.exports=Os});var S=m((Ka,tr)=>{var er=w(),Cs=(r,e,t)=>new er(r,t).compare(new er(e,t));tr.exports=Cs});var nr=m((Ja,rr)=>{var Ds=S(),Ls=(r,e,t)=>Ds(e,r,t);rr.exports=Ls});var or=m((Qa,sr)=>{var As=S(),qs=(r,e)=>As(r,e,!0);sr.exports=qs});var he=m((Za,ar)=>{var ir=w(),Ps=(r,e,t)=>{let n=new ir(r,t),s=new ir(e,t);return n.compare(s)||n.compareBuild(s)};ar.exports=Ps});var ur=m((ec,cr)=>{var ks=he(),_s=(r,e)=>r.sort((t,n)=>ks(t,n,e));cr.exports=_s});var fr=m((tc,lr)=>{var js=he(),Us=(r,e)=>r.sort((t,n)=>js(n,t,e));lr.exports=Us});var K=m((rc,pr)=>{var Fs=S(),Gs=(r,e,t)=>Fs(r,e,t)>0;pr.exports=Gs});var de=m((nc,hr)=>{var Vs=S(),Ms=(r,e,t)=>Vs(r,e,t)<0;hr.exports=Ms});var Ge=m((sc,dr)=>{var Xs=S(),Bs=(r,e,t)=>Xs(r,e,t)===0;dr.exports=Bs});var Ve=m((oc,mr)=>{var Hs=S(),zs=(r,e,t)=>Hs(r,e,t)!==0;mr.exports=zs});var me=m((ic,Er)=>{var Ws=S(),Ys=(r,e,t)=>Ws(r,e,t)>=0;Er.exports=Ys});var Ee=m((ac,gr)=>{var Ks=S(),Js=(r,e,t)=>Ks(r,e,t)<=0;gr.exports=Js});var Me=m((cc,yr)=>{var Qs=Ge(),Zs=Ve(),eo=K(),to=me(),ro=de(),no=Ee(),so=(r,e,t,n)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Qs(r,t,n);case"!=":return Zs(r,t,n);case">":return eo(r,t,n);case">=":return to(r,t,n);case"<":return ro(r,t,n);case"<=":return no(r,t,n);default:throw new TypeError(`Invalid operator: ${e}`)}};yr.exports=so});var wr=m((uc,xr)=>{var oo=w(),io=L(),{safeRe:ge,t:ye}=j(),ao=(r,e)=>{if(r instanceof oo)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?ge[ye.COERCEFULL]:ge[ye.COERCE]);else{let c=e.includePrerelease?ge[ye.COERCERTLFULL]:ge[ye.COERCERTL],u;for(;(u=c.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||u.index+u[0].length!==t.index+t[0].length)&&(t=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(t===null)return null;let n=t[2],s=t[3]||"0",o=t[4]||"0",i=e.includePrerelease&&t[5]?`-${t[5]}`:"",a=e.includePrerelease&&t[6]?`+${t[6]}`:"";return io(`${n}.${s}.${o}${i}${a}`,e)};xr.exports=ao});var Tr=m((lc,Rr)=>{var Xe=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let s=this.map.keys().next().value;this.delete(s)}this.map.set(e,t)}return this}};Rr.exports=Xe});var b=m((fc,Ir)=>{var Be=class r{constructor(e,t){if(t=uo(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof He)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(s=>!Sr(s[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let s of this.set)if(s.length===1&&go(s[0])){this.set=[s];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let n=((this.options.includePrerelease&&mo)|(this.options.loose&&Eo))+":"+e,s=Nr.get(n);if(s)return s;let o=this.options.loose,i=o?N[R.HYPHENRANGELOOSE]:N[R.HYPHENRANGE];e=e.replace(i,vo(this.options.includePrerelease)),y("hyphen replace",e),e=e.replace(N[R.COMPARATORTRIM],fo),y("comparator trim",e),e=e.replace(N[R.TILDETRIM],po),y("tilde trim",e),e=e.replace(N[R.CARETTRIM],ho),y("caret trim",e);let a=e.split(" ").map(h=>yo(h,this.options)).join(" ").split(/\s+/).map(h=>Io(h,this.options));o&&(a=a.filter(h=>(y("loose invalid filter",h,this.options),!!h.match(N[R.COMPARATORLOOSE])))),y("range list",a);let c=new Map,u=a.map(h=>new He(h,this.options));for(let h of u){if(Sr(h))return[h];c.set(h.value,h)}c.size>1&&c.has("")&&c.delete("");let d=[...c.values()];return Nr.set(n,d),d}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>br(n,t)&&e.set.some(s=>br(s,t)&&n.every(o=>s.every(i=>o.intersects(i,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new lo(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if($o(this.set[t],e,this.options))return!0;return!1}};Ir.exports=Be;var co=Tr(),Nr=new co,uo=le(),He=J(),y=Y(),lo=w(),{safeRe:N,t:R,comparatorTrimReplace:fo,tildeTrimReplace:po,caretTrimReplace:ho}=j(),{FLAG_INCLUDE_PRERELEASE:mo,FLAG_LOOSE:Eo}=W(),Sr=r=>r.value==="<0.0.0-0",go=r=>r.value==="",br=(r,e)=>{let t=!0,n=r.slice(),s=n.pop();for(;t&&n.length;)t=n.every(o=>s.intersects(o,e)),s=n.pop();return t},yo=(r,e)=>(y("comp",r,e),r=Ro(r,e),y("caret",r),r=xo(r,e),y("tildes",r),r=No(r,e),y("xrange",r),r=bo(r,e),y("stars",r),r),T=r=>!r||r.toLowerCase()==="x"||r==="*",xo=(r,e)=>r.trim().split(/\s+/).map(t=>wo(t,e)).join(" "),wo=(r,e)=>{let t=e.loose?N[R.TILDELOOSE]:N[R.TILDE];return r.replace(t,(n,s,o,i,a)=>{y("tilde",r,n,s,o,i,a);let c;return T(s)?c="":T(o)?c=`>=${s}.0.0 <${+s+1}.0.0-0`:T(i)?c=`>=${s}.${o}.0 <${s}.${+o+1}.0-0`:a?(y("replaceTilde pr",a),c=`>=${s}.${o}.${i}-${a} <${s}.${+o+1}.0-0`):c=`>=${s}.${o}.${i} <${s}.${+o+1}.0-0`,y("tilde return",c),c})},Ro=(r,e)=>r.trim().split(/\s+/).map(t=>To(t,e)).join(" "),To=(r,e)=>{y("caret",r,e);let t=e.loose?N[R.CARETLOOSE]:N[R.CARET],n=e.includePrerelease?"-0":"";return r.replace(t,(s,o,i,a,c)=>{y("caret",r,s,o,i,a,c);let u;return T(o)?u="":T(i)?u=`>=${o}.0.0${n} <${+o+1}.0.0-0`:T(a)?o==="0"?u=`>=${o}.${i}.0${n} <${o}.${+i+1}.0-0`:u=`>=${o}.${i}.0${n} <${+o+1}.0.0-0`:c?(y("replaceCaret pr",c),o==="0"?i==="0"?u=`>=${o}.${i}.${a}-${c} <${o}.${i}.${+a+1}-0`:u=`>=${o}.${i}.${a}-${c} <${o}.${+i+1}.0-0`:u=`>=${o}.${i}.${a}-${c} <${+o+1}.0.0-0`):(y("no pr"),o==="0"?i==="0"?u=`>=${o}.${i}.${a}${n} <${o}.${i}.${+a+1}-0`:u=`>=${o}.${i}.${a}${n} <${o}.${+i+1}.0-0`:u=`>=${o}.${i}.${a} <${+o+1}.0.0-0`),y("caret return",u),u})},No=(r,e)=>(y("replaceXRanges",r,e),r.split(/\s+/).map(t=>So(t,e)).join(" ")),So=(r,e)=>{r=r.trim();let t=e.loose?N[R.XRANGELOOSE]:N[R.XRANGE];return r.replace(t,(n,s,o,i,a,c)=>{y("xRange",r,n,s,o,i,a,c);let u=T(o),d=u||T(i),h=d||T(a),g=h;return s==="="&&g&&(s=""),c=e.includePrerelease?"-0":"",u?s===">"||s==="<"?n="<0.0.0-0":n="*":s&&g?(d&&(i=0),a=0,s===">"?(s=">=",d?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):s==="<="&&(s="<",d?o=+o+1:i=+i+1),s==="<"&&(c="-0"),n=`${s+o}.${i}.${a}${c}`):d?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:h&&(n=`>=${o}.${i}.0${c} <${o}.${+i+1}.0-0`),y("xRange return",n),n})},bo=(r,e)=>(y("replaceStars",r,e),r.trim().replace(N[R.STAR],"")),Io=(r,e)=>(y("replaceGTE0",r,e),r.trim().replace(N[e.includePrerelease?R.GTE0PRE:R.GTE0],"")),vo=r=>(e,t,n,s,o,i,a,c,u,d,h,g)=>(T(n)?t="":T(s)?t=`>=${n}.0.0${r?"-0":""}`:T(o)?t=`>=${n}.${s}.0${r?"-0":""}`:i?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,T(u)?c="":T(d)?c=`<${+u+1}.0.0-0`:T(h)?c=`<${u}.${+d+1}.0-0`:g?c=`<=${u}.${d}.${h}-${g}`:r?c=`<${u}.${d}.${+h+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),$o=(r,e,t)=>{for(let n=0;n<r.length;n++)if(!r[n].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let n=0;n<r.length;n++)if(y(r[n].semver),r[n].semver!==He.ANY&&r[n].semver.prerelease.length>0){let s=r[n].semver;if(s.major===e.major&&s.minor===e.minor&&s.patch===e.patch)return!0}return!1}return!0}});var J=m((pc,Lr)=>{var Q=Symbol("SemVer ANY"),Ye=class r{static get ANY(){return Q}constructor(e,t){if(t=vr(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),We("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Q?this.value="":this.value=this.operator+this.semver.version,We("comp",this)}parse(e){let t=this.options.loose?$r[Or.COMPARATORLOOSE]:$r[Or.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Cr(n[2],this.options.loose):this.semver=Q}toString(){return this.value}test(e){if(We("Comparator.test",e,this.options.loose),this.semver===Q||e===Q)return!0;if(typeof e=="string")try{e=new Cr(e,this.options)}catch{return!1}return ze(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Dr(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Dr(this.value,t).test(e.semver):(t=vr(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||ze(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||ze(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Lr.exports=Ye;var vr=le(),{safeRe:$r,t:Or}=j(),ze=Me(),We=Y(),Cr=w(),Dr=b()});var Z=m((hc,Ar)=>{var Oo=b(),Co=(r,e,t)=>{try{e=new Oo(e,t)}catch{return!1}return e.test(r)};Ar.exports=Co});var Pr=m((dc,qr)=>{var Do=b(),Lo=(r,e)=>new Do(r,e).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));qr.exports=Lo});var _r=m((mc,kr)=>{var Ao=w(),qo=b(),Po=(r,e,t)=>{let n=null,s=null,o=null;try{o=new qo(e,t)}catch{return null}return r.forEach(i=>{o.test(i)&&(!n||s.compare(i)===-1)&&(n=i,s=new Ao(n,t))}),n};kr.exports=Po});var Ur=m((Ec,jr)=>{var ko=w(),_o=b(),jo=(r,e,t)=>{let n=null,s=null,o=null;try{o=new _o(e,t)}catch{return null}return r.forEach(i=>{o.test(i)&&(!n||s.compare(i)===1)&&(n=i,s=new ko(n,t))}),n};jr.exports=jo});var Vr=m((gc,Gr)=>{var Ke=w(),Uo=b(),Fr=K(),Fo=(r,e)=>{r=new Uo(r,e);let t=new Ke("0.0.0");if(r.test(t)||(t=new Ke("0.0.0-0"),r.test(t)))return t;t=null;for(let n=0;n<r.set.length;++n){let s=r.set[n],o=null;s.forEach(i=>{let a=new Ke(i.semver.version);switch(i.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||Fr(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${i.operator}`)}}),o&&(!t||Fr(t,o))&&(t=o)}return t&&r.test(t)?t:null};Gr.exports=Fo});var Xr=m((yc,Mr)=>{var Go=b(),Vo=(r,e)=>{try{return new Go(r,e).range||"*"}catch{return null}};Mr.exports=Vo});var xe=m((xc,Wr)=>{var Mo=w(),zr=J(),{ANY:Xo}=zr,Bo=b(),Ho=Z(),Br=K(),Hr=de(),zo=Ee(),Wo=me(),Yo=(r,e,t,n)=>{r=new Mo(r,n),e=new Bo(e,n);let s,o,i,a,c;switch(t){case">":s=Br,o=zo,i=Hr,a=">",c=">=";break;case"<":s=Hr,o=Wo,i=Br,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Ho(r,e,n))return!1;for(let u=0;u<e.set.length;++u){let d=e.set[u],h=null,g=null;if(d.forEach(p=>{p.semver===Xo&&(p=new zr(">=0.0.0")),h=h||p,g=g||p,s(p.semver,h.semver,n)?h=p:i(p.semver,g.semver,n)&&(g=p)}),h.operator===a||h.operator===c||(!g.operator||g.operator===a)&&o(r,g.semver))return!1;if(g.operator===c&&i(r,g.semver))return!1}return!0};Wr.exports=Yo});var Kr=m((wc,Yr)=>{var Ko=xe(),Jo=(r,e,t)=>Ko(r,e,">",t);Yr.exports=Jo});var Qr=m((Rc,Jr)=>{var Qo=xe(),Zo=(r,e,t)=>Qo(r,e,"<",t);Jr.exports=Zo});var tn=m((Tc,en)=>{var Zr=b(),ei=(r,e,t)=>(r=new Zr(r,t),e=new Zr(e,t),r.intersects(e,t));en.exports=ei});var nn=m((Nc,rn)=>{var ti=Z(),ri=S();rn.exports=(r,e,t)=>{let n=[],s=null,o=null,i=r.sort((d,h)=>ri(d,h,t));for(let d of i)ti(d,e,t)?(o=d,s||(s=d)):(o&&n.push([s,o]),o=null,s=null);s&&n.push([s,null]);let a=[];for(let[d,h]of n)d===h?a.push(d):!h&&d===i[0]?a.push("*"):h?d===i[0]?a.push(`<=${h}`):a.push(`${d} - ${h}`):a.push(`>=${d}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var ln=m((Sc,un)=>{var sn=b(),Qe=J(),{ANY:Je}=Qe,ee=Z(),Ze=S(),ni=(r,e,t={})=>{if(r===e)return!0;r=new sn(r,t),e=new sn(e,t);let n=!1;e:for(let s of r.set){for(let o of e.set){let i=oi(s,o,t);if(n=n||i!==null,i)continue e}if(n)return!1}return!0},si=[new Qe(">=0.0.0-0")],on=[new Qe(">=0.0.0")],oi=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Je){if(e.length===1&&e[0].semver===Je)return!0;t.includePrerelease?r=si:r=on}if(e.length===1&&e[0].semver===Je){if(t.includePrerelease)return!0;e=on}let n=new Set,s,o;for(let p of r)p.operator===">"||p.operator===">="?s=an(s,p,t):p.operator==="<"||p.operator==="<="?o=cn(o,p,t):n.add(p.semver);if(n.size>1)return null;let i;if(s&&o){if(i=Ze(s.semver,o.semver,t),i>0)return null;if(i===0&&(s.operator!==">="||o.operator!=="<="))return null}for(let p of n){if(s&&!ee(p,String(s),t)||o&&!ee(p,String(o),t))return null;for(let Oe of e)if(!ee(p,String(Oe),t))return!1;return!0}let a,c,u,d,h=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1,g=s&&!t.includePrerelease&&s.semver.prerelease.length?s.semver:!1;h&&h.prerelease.length===1&&o.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(let p of e){if(d=d||p.operator===">"||p.operator===">=",u=u||p.operator==="<"||p.operator==="<=",s){if(g&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===g.major&&p.semver.minor===g.minor&&p.semver.patch===g.patch&&(g=!1),p.operator===">"||p.operator===">="){if(a=an(s,p,t),a===p&&a!==s)return!1}else if(s.operator===">="&&!ee(s.semver,String(p),t))return!1}if(o){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator==="<"||p.operator==="<="){if(c=cn(o,p,t),c===p&&c!==o)return!1}else if(o.operator==="<="&&!ee(o.semver,String(p),t))return!1}if(!p.operator&&(o||s)&&i!==0)return!1}return!(s&&u&&!o&&i!==0||o&&d&&!s&&i!==0||g||h)},an=(r,e,t)=>{if(!r)return e;let n=Ze(r.semver,e.semver,t);return n>0?r:n<0||e.operator===">"&&r.operator===">="?e:r},cn=(r,e,t)=>{if(!r)return e;let n=Ze(r.semver,e.semver,t);return n<0?r:n>0||e.operator==="<"&&r.operator==="<="?e:r};un.exports=ni});var we=m((bc,hn)=>{var et=j(),fn=W(),ii=w(),pn=Ue(),ai=L(),ci=_t(),ui=Ut(),li=Vt(),fi=Bt(),pi=zt(),hi=Yt(),di=Jt(),mi=Zt(),Ei=S(),gi=nr(),yi=or(),xi=he(),wi=ur(),Ri=fr(),Ti=K(),Ni=de(),Si=Ge(),bi=Ve(),Ii=me(),vi=Ee(),$i=Me(),Oi=wr(),Ci=J(),Di=b(),Li=Z(),Ai=Pr(),qi=_r(),Pi=Ur(),ki=Vr(),_i=Xr(),ji=xe(),Ui=Kr(),Fi=Qr(),Gi=tn(),Vi=nn(),Mi=ln();hn.exports={parse:ai,valid:ci,clean:ui,inc:li,diff:fi,major:pi,minor:hi,patch:di,prerelease:mi,compare:Ei,rcompare:gi,compareLoose:yi,compareBuild:xi,sort:wi,rsort:Ri,gt:Ti,lt:Ni,eq:Si,neq:bi,gte:Ii,lte:vi,cmp:$i,coerce:Oi,Comparator:Ci,Range:Di,satisfies:Li,toComparators:Ai,maxSatisfying:qi,minSatisfying:Pi,minVersion:ki,validRange:_i,outside:ji,gtr:Ui,ltr:Fi,intersects:Gi,simplifyRange:Vi,subset:Mi,SemVer:ii,re:et.re,src:et.src,tokens:et.t,SEMVER_SPEC_VERSION:fn.SEMVER_SPEC_VERSION,RELEASE_TYPES:fn.RELEASE_TYPES,compareIdentifiers:pn.compareIdentifiers,rcompareIdentifiers:pn.rcompareIdentifiers}});var ta={};Xn(ta,{activate:()=>Zi,deactivate:()=>ea});module.exports=Bn(ta);var q=require("vscode");function P(r){return'"'+r+'"'}function lt(r){return r===void 0?!0:typeof r=="string"||Array.isArray(r)?r.length===0:typeof r=="object"&&r!==null?Object.keys(r).length===0:!1}var De="abcdefghijklmnopqrstuvwxyz";function k(r){if(r<0||!Number.isInteger(r))throw new Error("Input must be a non-negative integer.");let e=Math.floor(r/De.length),t=De[r%De.length];return"z".repeat(e)+t}var X=class extends Error{constructor(e,t,n){let s=e.status||e.status===0?e.status:"",o=e.statusText||"",i=`${s} ${o}`.trim(),a=i?`status code ${i}`:"an unknown error";super(`Request failed with ${a}: ${t.method} ${t.url}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=n}};var _=class extends Error{constructor(e){super(`Request timed out: ${e.method} ${e.url}`),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}};var B=r=>r!==null&&typeof r=="object";var H=(...r)=>{for(let e of r)if((!B(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return ie({},...r)},Le=(r={},e={})=>{let t=new globalThis.Headers(r),n=e instanceof globalThis.Headers,s=new globalThis.Headers(e);for(let[o,i]of s.entries())n&&i==="undefined"||i===void 0?t.delete(o):t.set(o,i);return t},ie=(...r)=>{let e={},t={};for(let n of r)if(Array.isArray(n))Array.isArray(e)||(e=[]),e=[...e,...n];else if(B(n)){for(let[s,o]of Object.entries(n))B(o)&&s in e&&(o=ie(e[s],o)),e={...e,[s]:o};B(n.headers)&&(t=Le(t,n.headers),e.headers=t)}return e};var ft=(()=>{let r=!1,e=!1,t=typeof globalThis.ReadableStream=="function",n=typeof globalThis.Request=="function";if(t&&n)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type")}catch(s){if(s instanceof Error&&s.message==="unsupported BodyInit type")return!1;throw s}return r&&!e})(),pt=typeof globalThis.AbortController=="function",ht=typeof globalThis.ReadableStream=="function",dt=typeof globalThis.FormData=="function",ae=["get","post","put","patch","head","delete"],Hn=()=>{};Hn();var mt={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},ce=2147483647,ue=Symbol("stop"),Et={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},gt={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0};var xt=r=>ae.includes(r)?r.toUpperCase():r,zn=["get","put","head","delete","options","trace"],Wn=[408,413,429,500,502,503,504],wt=[413,429,503],yt={limit:2,methods:zn,statusCodes:Wn,afterStatusCodes:wt,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:r=>.3*2**(r-1)*1e3},Rt=(r={})=>{if(typeof r=="number")return{...yt,limit:r};if(r.methods&&!Array.isArray(r.methods))throw new Error("retry.methods must be an array");if(r.statusCodes&&!Array.isArray(r.statusCodes))throw new Error("retry.statusCodes must be an array");return{...yt,...r,afterStatusCodes:wt}};async function Ae(r,e,t,n){return new Promise((s,o)=>{let i=setTimeout(()=>{t&&t.abort(),o(new _(r))},n.timeout);n.fetch(r,e).then(s).catch(o).then(()=>{clearTimeout(i)})})}async function qe(r,{signal:e}){return new Promise((t,n)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",s,{once:!0}));function s(){clearTimeout(o),n(e.reason)}let o=setTimeout(()=>{e?.removeEventListener("abort",s),t()},r)})}var Tt=(r,e)=>{let t={};for(let n in e)!(n in gt)&&!(n in Et)&&!(n in r)&&(t[n]=e[n]);return t};var z=class r{static create(e,t){let n=new r(e,t),s=async()=>{if(typeof n._options.timeout=="number"&&n._options.timeout>ce)throw new RangeError(`The \`timeout\` option cannot be greater than ${ce}`);await Promise.resolve();let a=await n._fetch();for(let c of n._options.hooks.afterResponse){let u=await c(n.request,n._options,n._decorateResponse(a.clone()));u instanceof globalThis.Response&&(a=u)}if(n._decorateResponse(a),!a.ok&&n._options.throwHttpErrors){let c=new X(a,n.request,n._options);for(let u of n._options.hooks.beforeError)c=await u(c);throw c}if(n._options.onDownloadProgress){if(typeof n._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!ht)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return n._stream(a.clone(),n._options.onDownloadProgress)}return a},i=n._options.retry.methods.includes(n.request.method.toLowerCase())?n._retry(s):s();for(let[a,c]of Object.entries(mt))i[a]=async()=>{n.request.headers.set("accept",n.request.headers.get("accept")||c);let d=(await i).clone();if(a==="json"){if(d.status===204||(await d.clone().arrayBuffer()).byteLength===0)return"";if(t.parseJson)return t.parseJson(await d.text())}return d[a]()};return i}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e;let n=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...n&&{credentials:n},...t,headers:Le(this._input.headers,t.headers),hooks:ie({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:xt(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:Rt(t.retry),throwHttpErrors:t.throwHttpErrors!==!1,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(pt){if(this.abortController=new globalThis.AbortController,this._options.signal){let s=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(s.reason)})}this._options.signal=this.abortController.signal}if(ft&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let o="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),i=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,o);(dt&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(i,{...this.request}),this._options)}}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(e instanceof _)){if(e instanceof X){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;let n=e.response.headers.get("Retry-After");if(n&&this._options.retry.afterStatusCodes.includes(e.response.status)){let s=Number(n)*1e3;Number.isNaN(s)&&(s=Date.parse(n)-Date.now());let o=this._options.retry.maxRetryAfter??s;return s<o?s:o}if(e.response.status===413)return 0}let t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(t){let n=Math.min(this._calculateRetryDelay(t),ce);if(n!==0&&this._retryCount>0){await qe(n,{signal:this._options.signal});for(let s of this._options.hooks.beforeRetry)if(await s({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===ue)return;return this._retry(e)}throw t}}async _fetch(){for(let n of this._options.hooks.beforeRequest){let s=await n(this.request,this._options);if(s instanceof Request){this.request=s;break}if(s instanceof Response)return s}let e=Tt(this.request,this._options),t=this.request;return this.request=t.clone(),this._options.timeout===!1?this._options.fetch(t,e):Ae(t,e,this.abortController,this._options)}_stream(e,t){let n=Number(e.headers.get("content-length"))||0,s=0;return e.status===204?(t&&t({percent:1,totalBytes:n,transferredBytes:s},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(o){let i=e.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:n},new Uint8Array);async function a(){let{done:c,value:u}=await i.read();if(c){o.close();return}if(t){s+=u.byteLength;let d=n===0?0:s/n;t({percent:d,transferredBytes:s,totalBytes:n},u)}o.enqueue(u),await a()}await a()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}};var Pe=r=>{let e=(t,n)=>z.create(t,H(r,n));for(let t of ae)e[t]=(n,s)=>z.create(n,H(r,s,{method:t}));return e.create=t=>Pe(H(t)),e.extend=t=>Pe(H(r,t)),e.stop=ue,e},Yn=Pe(),ke=Yn;var tt=Ce(we()),Xi="https://index.crates.io";async function dn(r,e=Xi){let t=r.replace(/"/g,"").toLocaleLowerCase(),n="";t.length<=2?n=t.length.toString():t.length===3?n="3/"+t.substring(0,1):n=t.substring(0,2)+"/"+t.substring(2,4);let s=await ke.get(`${e}/${n}/${t}`);if(s.status!==200)throw new Error(`get crates metadata error: statusCode=${s.status} ${await s.text()}`);let o=(await s.text()).split(`
`).filter(g=>g),i=[],a={},c={},u=[],d=null,h=null;for(let g=o.length-1;g>=0;g--){let p=JSON.parse(o[g]);p.yanked===!1&&(i.push(p.vers),d===null&&(0,tt.prerelease)(p.vers)===null?d=p.vers:h===null&&(0,tt.prerelease)(p.vers)!==null&&(h=p.vers),p.rust_version&&(c[p.vers]=p.rust_version),a[p.vers]=Object.keys(p.features).filter(Oe=>Oe==="default"?(u=p.features.default,!1):!0))}return{name:r,versions:i,features:a,defaultFeatures:u,rustVersion:c,createdAt:new Date().getUTCMilliseconds(),latestStable:d,latestPrerelease:h}}async function rt(r){if(r==="")return[];let e=await ke.get("https://crates.io/api/v1/crates?page=1&per_page=30&q="+r,{headers:{"User-Agent":"VSCodeExtension/crates-cmp"}});if(e.status!==200)throw new Error(`search crate error: statusCode=${e.status} ${await e.text()}`);return(await e.json()).crates}async function F(r,e){let t=Bi(e),n=r.globalState.get(t);if(!n||n.createdAt>new Date().getUTCMilliseconds()-1e3*60*10){let s=await dn(e);return r.globalState.update(t,s),s}return n}function Bi(r){return`crates-cmp:metadata:${r}`}async function mn(r,e){return(await F(r,e)).versions}var te=Symbol("None"),re=class r{val;constructor(e){this.val=e}get[Symbol.toStringTag](){return"Option"}*[Symbol.iterator](){this.isSome()&&(yield this.val)}isSome(){return this.val!==te}isNone(){return this.val===te}expect(e){if(this.isNone())throw new Error(e);return this.val}unwrap(){if(this.isNone())throw new Error("Unwrap called on None");return this.val}unwrapOr(e){return this.isNone()?e:this.val}unwrapOrElse(e){return this.isNone()?e():this.val}map(e){return this.isSome()?new r(e(this.val)):this}mapOr(e,t){return this.isSome()?t(this.val):e}or(e){return this.isSome()?this:e}okOr(e){return this.isSome()?G(this.val):V(e)}peek(){return this.val}flatten(){return this.val instanceof r?this.val:this}static from(e){let t=e();return t==null?new r(te):new r(t)}static async fromAsync(e){let t=await e();return t==null?new r(te):new r(t)}};function Re(r){return new re(r)}Object.defineProperty(Re,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isSome()||!1});function Te(){return new re(te)}Object.defineProperty(Te,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isNone()||!1});var M=class r{val;constructor(e){this.val=e}get[Symbol.toStringTag](){return"Result"}*[Symbol.iterator](){this.isOk()&&(yield this.val)}isOk(){return!(this.val instanceof Error||this.val&&typeof this.val=="object"&&Error.isPrototypeOf(this.val))}isErr(){return this.val instanceof Error||this.val&&typeof this.val=="object"&&Error.isPrototypeOf(this.val)}formatError(e){throw e.stack=`${e.message}: ${this.val.stack?`
	`+this.val.stack.split(`
`).join(`
	`):this.val.message}`,e}expect(e){return this.isErr()&&this.formatError(new Error(e)),this.val}expectErr(e){return this.isOk()&&this.formatError(new Error(e)),this.val}unwrap(){return this.isErr()&&this.formatError(new Error(`Unwrap called on ${this.val.name}`)),this.val}unwrapErr(){if(this.isOk())throw new Error(`UnwrapError called on value - ${this.val}`);return this.val}unwrapOr(e){return this.isErr()?e:this.val}unwrapOrElse(e){return this.isErr()?e(this.val):this.val}map(e){return this.isOk()?new r(e(this.val)):this}mapErr(e){return this.isOk()?this:new r(e(this.val))}mapOr(e,t){return this.isOk()?t(this.val):e}or(e){return this.isOk()?this:e}ok(){return this.isOk()?Re(this.val):Te()}peek(){return this.val}throw(){if(this.isErr())throw this.val}flatten(){return this.val instanceof r?this.val:this}static from(e){try{return new r(e())}catch(t){return new r(t)}}static async fromAsync(e){try{return new r(await e())}catch(t){return new r(t)}}static partition(e){return e.reduce((t,n)=>(n.isOk()?t.ok.push(n.unwrap()):t.err.push(n.unwrapErr()),t),{ok:[],err:[]})}};function G(r){return new M(r)}Object.defineProperty(G,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isOk()||!1});function V(r){return typeof r=="string"?new M(new Error(r)):new M(r)}Object.defineProperty(V,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isErr()||!1});async function x(r){try{let e=await r;return G(e)}catch(e){return V(e)}}var En=Ce(we());async function gn(r,e,t,n){if(e==="")return[];let s=await x(F(r,e));if(s.isErr())throw s.unwrapErr();let o=s.unwrap();if(t==="")return o.features[o.latestStable]??[];let i=yn(o,t);if(i.length===0)return[];if(n&&n.length!==0){let a={};for(let c of n)a[c]=!0;return i.filter(c=>!a[c])}return i}function yn(r,e){let t=r.features[e]??[];if(t.length===0){for(let n of r.versions)if((0,En.satisfies)(n,e)){t=r.features[n]??[];break}}return t}var I=Ce(we());function Tn(r,e){if(e.length===0)return[];let t=[];for(let n of e)n.currentVersion!==""&&t.push(zi(r,n));return t}async function zi(r,e){let t=await F(r,e.name),n=Wi(e,t);return{id:e.id,name:e.name,decoration:n.decoration,diagnostics:n.diagnostics}}function Wi(r,e){let t={id:r.id,name:r.name},n=!1;for(let s of e.versions)if((0,I.satisfies)(s,r.inputVersion)){n=!0;break}if(!n)return t.decoration=Rn(r.id,"version not found"),t;if((0,I.prerelease)(r.currentVersion)===null){if(r.currentVersion!==e.latestStable){if(t.decoration=wn(r.id,r.currentVersion,e.latestStable),(0,I.major)(r.currentVersion)===(0,I.major)(e.latestStable))return t;for(let s of e.versions)if((0,I.satisfies)(s,r.currentVersion))return t.decoration.currentMax=s,t}t.decoration=xn(r.id,e.latestStable)}else{if(e.latestPrerelease===null)return t.decoration=Rn(r.id,"pre-release not found"),t;if(r.currentVersion!==e.latestPrerelease){if(t.decoration=wn(r.id,r.currentVersion,e.latestPrerelease),(0,I.satisfies)(r.inputVersion,e.latestPrerelease))return t;for(let s of e.versions)if((0,I.satisfies)(s,r.inputVersion))return t.decoration.currentMax=s,t;return t}t.decoration=xn(r.id,e.latestPrerelease)}return t}function xn(r,e){return{id:r,status:"Latest",current:"",currentMax:"",latest:e}}function wn(r,e,t){return{id:r,status:"Outdated",current:e,currentMax:"",latest:t}}function Rn(r,e){return{id:r,status:"Error",current:"",currentMax:"",latest:e}}var C=require("vscode");async function nt(r,e,t){let n=await x(mn(r,e));if(n.isErr())return C.window.showErrorMessage(n.unwrapErr().message),[];let s=n.unwrap().map((o,i)=>{let a=new C.CompletionItem(P(o),C.CompletionItemKind.Constant);return a.insertText=P(o),a.sortText=k(i++),a.preselect=i===0,a.range=t,a});return new C.CompletionList(s)}var D=require("vscode");async function Nn(r,e,t,n,s){let o=await x(gn(r,e,t,n));if(o.isErr())return D.window.showErrorMessage(o.unwrapErr().message),[];let i=o.unwrap().map((a,c)=>{let u=new D.CompletionItem(P(a),D.CompletionItemKind.Constant);return u.insertText=P(a),u.sortText=k(c++),u.preselect=c===0,u.range=s,u});return new D.CompletionList(i)}async function Sn(r){return rt(r)}var $=require("vscode");async function bn(r,e){let t=Yi(r,e),n=await x(Sn(t));if(n.isErr())return $.window.showErrorMessage(n.unwrapErr().message),[];let[s,o]=Ki(t);return n.unwrap().map((a,c)=>{let u=new $.CompletionItem(a.name,$.CompletionItemKind.Constant);return u.insertText=a.name,u.documentation=a.description,u.detail="max version: "+a.max_version,u.sortText=k(c++),u.preselect=c===0,u.range=new $.Range(e.line,s,e.line,o),u})}function Yi(r,e){let t=new $.Range(e.line,0,e.line,e.character);return r.getText(t)}function Ki(r){let e=-1,t=-1;for(let n=0;n<r.length;n++)r[n].trim()!==""&&(e===-1&&(e=n),t=n);return[e,t]}var In=require("vscode");function vn(r,e){return new Promise((t,n)=>{In.commands.executeCommand(r,e).then(s=>{lt(s)&&n("symbol provider unavailable"),t(s)},s=>n(s))})}var Cn=require("vscode");var $n=require("vscode");function O(r){return r&&new $n.Range(r.start.translate(0,1),r.end.translate(0,-1))}function On(r){return new Promise(e=>setTimeout(e,r))}var st=class{enterTable(e,t){return!0}enterDependencies(e,t){return!0}onPackage(e,t){}onDependencies(e,t,n,s){}onFeatures(e,t){}onWorkspace(e,t){}onLib(e,t){}onBin(e,t){}onProfile(e,t){}onBadges(e,t){}onOther(e,t){}tree;constructor(e){this.tree=e}walk(){for(let e of this.tree)switch(e.name){case"package":this.enterTable(e,"package")&&this.onPackage(e.name,e);break;case"dependencies":this.enterDependencies(e,"dependencies")&&this.onDependencies(e.name,e,"dependencies");break;case"dev-dependencies":this.enterDependencies(e,"dev-dependencies")&&this.onDependencies(e.name,e,"dev-dependencies");break;case"build-dependencies":this.enterDependencies(e,"build-dependencies")&&this.onDependencies(e.name,e,"build-dependencies");break;case"target":if(this.enterDependencies(e,"target.dependencies"))for(let t of e.children)for(let n of t.children)this.onDependencies(ne(e.name,t.name,n.name),n,"target.dependencies",t.name);case"features":this.enterTable(e,"features")&&this.onFeatures(e.name,e);break;case"workspace":this.enterTable(e,"workspace")&&this.onWorkspace(e.name,e);break;case"lib":this.enterTable(e,"lib")&&this.onLib(e.name,e);break;case"bin":this.enterTable(e,"bin")&&this.onBin(e.name,e);break;case"profile":this.enterTable(e,"profile")&&this.onProfile(e.name,e);break;case"badges":this.enterTable(e,"badges")&&this.onBadges(e.name,e);break;default:this.enterTable(e,"other")&&this.onOther(e.name,e);break}}},se=class extends st{enterCrate(e){return!0}onCrate(e,t,n,s){}onDependencies(e,t,n,s){for(let o of t.children)this.enterCrate(o)&&this.onCrate(ne(e,o.name),o,n,s)}};async function be(r){for(let e=0;e<5;e++){let t=await x(vn("vscode.executeDocumentSymbolProvider",r));if(console.log("waiting for Even better toml"),t.isOk())return t.unwrap();await On(500)}return Cn.window.showErrorMessage("Require `Even Better TOML` extension"),[]}var Ne=class extends se{dependencies=[];nodeStore;identifiers=[];doc;constructor(e,t,n){super(e),this.doc=t,this.nodeStore=n}enterTable(e,t){return!1}enterDependencies(e,t){return!0}enterCrate(e){return!0}onCrate(e,t,n,s){let o=t.name,i={id:e,name:o,inputVersion:"",currentVersion:"",features:[],tableName:n,platform:s};if(this.identifiers.push(i.id),this.nodeStore.set(i.id,{value:this.doc.getText(t.range),table:n,range:t.range,denpendencyType:"Crate"}),t.children.length===0){let a=this.doc.getText(O(t.range));i.inputVersion=a,this.dependencies.push(i);return}for(let a of t.children){if(a.name==="version"){let c=this.doc.getText(O(a.range));i.inputVersion=c,this.nodeStore.set(ne(i.id,a.name),{value:c,range:a.range,table:n,denpendencyType:"Version"});continue}if(a.name==="features"){if(a.children.length!==0)for(let c of a.children){let u=this.doc.getText(O(c.range));this.nodeStore.set(ne(i.id,a.name,c.name),{value:u,range:c.range,table:n,denpendencyType:"Feature"}),i.features.push(u)}else{let c=this.doc.getText(O(a.range));this.nodeStore.set(ne(i.id,a.name),{value:c,range:a.range,table:n,denpendencyType:"Feature"}),i.features.push(c)}continue}a.name==="package"&&(i.packageName=this.doc.getText(O(a.range)))}this.dependencies.push(i)}};function ne(...r){return r.join(".")}var Se=class{m={};dirtyNodes=new Set;newlyAdded=new Set;deleted=new Set;uri=void 0;constructor(){this.m={}}init(e){if(this.uri!==e){this.m={},this.uri=e,this.dirtyNodes.clear(),this.newlyAdded.clear(),this.deleted.clear();return}this.dirtyNodes.clear(),this.newlyAdded.clear();for(let t of this.deleted)delete this.m[t];this.deleted.clear();for(let t of Object.keys(this.m))this.deleted.add(t)}isClean(){return this.dirtyNodes.size===0&&this.newlyAdded.size===0&&this.deleted.size===0}node(e){return this.m[e]??void 0}range(e){return this.m[e]?.range}set(e,t){this.m[e]&&this.m[e].value!==t.value&&this.dirtyNodes.add(e),this.m[e]||this.newlyAdded.add(e),this.deleted.delete(e),this.m[e]=t}deletedIds(){return[...this.deleted]}dirtyIds(){return[...this.dirtyNodes]}addedIds(){return[...this.newlyAdded]}isDirty(e){return!!this.dirtyNodes.has(e)}};var Ie=class{context;constructor(e){this.context=e}provideCompletionItems(e,t,n,s){return new Promise(async o=>{let i=await this.completionItems(e,t,n,s);o(i)})}async completionItems(e,t,n,s){let o=await be(e.uri);if(o.length===0)return[];let i=new ot(o,t);if(i.walk(),!i.crateName)return await bn(e,t);if(i.versionNode&&i.versionNode.range.contains(t))return await nt(this.context,i.crateName,i.versionNode.range);if(i.featuresNode&&i.featuresNode.children.length!==0){if(i.featuresNode.range.contains(t)){let a=e.getText(O(i.versionNode?.range)),c,u=[];for(let d of i.featuresNode.children){if(d.range.contains(t)){c=d.range;continue}u.push(e.getText(O(d.range)))}return await Nn(this.context,i.crateName,a,u,c)}return[]}return i.isComplexDependencyBlock?[]:await nt(this.context,i.crateName,i.crateRange)}},ot=class extends se{isComplexDependencyBlock=!1;crateName;crateRange;versionNode;featuresNode;position;constructor(e,t){super(e),this.position=t}enterTable(e,t){return!1}enterDependencies(e,t){return!!e.range.contains(this.position)}enterCrate(e){return!!e.range.contains(this.position)}onCrate(e,t){if(this.crateName=t.name,this.crateRange=t.range,t.children.length!==0){this.isComplexDependencyBlock=!0;for(let n of t.children){if(n.name==="version"){this.versionNode=n;continue}if(n.name==="features"){this.featuresNode=n;continue}}}this.enterCrate=n=>!1}};var it=require("vscode");var A=require("vscode"),ve=class{uri;state;constructor(){this.state={}}init(e){if(this.uri!==e){this.state={},this.uri=e;return}}delete(e){this.state[e]&&(this.state[e].decoration.dispose(),delete this.state[e])}get(e){return this.state[e]}set(e,t){this.state[e]=t}};function Dn(r){return A.window.createTextEditorDecorationType({after:{contentText:"\u2705 "+r,color:"green",margin:"0 0 0 4em"}})}function Ln(r){return r.currentMax!==""&&r.current===r.currentMax?A.window.createTextEditorDecorationType({after:{contentText:"\u{1F7E1} "+r.current+", "+r.latest,color:"orange",margin:"0 0 0 4em"}}):r.currentMax!==""&&r.current!==r.currentMax?A.window.createTextEditorDecorationType({after:{contentText:"\u{1F7E1} "+r.current+"==>"+r.currentMax+", "+r.latest,color:"orange",margin:"0 0 0 4em"}}):A.window.createTextEditorDecorationType({after:{contentText:"\u{1F7E1} "+r.current+"==>"+r.latest,color:"orange",margin:"0 0 0 4em"}})}function An(r){return A.window.createTextEditorDecorationType({after:{contentText:"\u274C "+r,color:"red",margin:"0 0 0 4em"}})}function qn(){return A.window.createTextEditorDecorationType({after:{contentText:"Waiting...",color:"grey",margin:"0 0 0 4em"}})}var Pn=require("child_process");function kn(r){return new Promise((e,t)=>{let n=(0,Pn.exec)(r),s="",o="";n.stdout?.on("data",i=>{s+=i}),n.stderr?.on("data",i=>{o+=i}),n.on("exit",i=>{i===0?e(s):(console.error("stderr:",o),t(new Error(`Process exited with code ${i}`)))}),n.on("error",i=>{console.error("Failed to start subprocess:",i),t(i)})})}async function _n(r){let e=await x(kn(`cargo tree --manifest-path ${r} --depth 1 --all-features`));if(!e.isErr())return Qi(e.unwrap())}function Qi(r){let e={};return r.trim().split(`
`).forEach(n=>{let o=n.trim().match(/(\S+)\s+v(\d+\.\d+\.\d+(?:[-+]\S+)?)/);if(o){let[,i,a]=o;e[i]=a}}),e}var $e=class{ctx;decorationStore=new ve;nodeStore=new Se;constructor(e){this.ctx=e}async onChange(e){let t=await be(e.uri);if(t.length===0)return;let n=new Ne(t,e,this.nodeStore);if(this.nodeStore.init(e.uri.path),n.walk(),this.nodeStore.isClean())return;this.addedNodes(this.nodeStore.addedIds()),this.deletedNodes(this.nodeStore.deletedIds()),this.dirtyNodes(this.nodeStore.dirtyIds());let s=await x(_n(e.uri.path));if(s.isErr())return;let o=[],i=s.unwrap();for(let c of n.dependencies){if(i[c.name]){c.currentVersion=i[c.name];continue}if(c.packageName&&i[c.packageName]){c.currentVersion=i[c.packageName];continue}o.push(c.id)}o.length!==0&&this.deletedNodes(o),Tn(this.ctx,n.dependencies).forEach(c=>c.then(this.outputPromiseHandler.bind(this)))}outputPromiseHandler(e){e.decoration&&this.decorate(e.id,e.decoration)}addedNodes(e){for(let t of e)this.decorate(t,{id:t,current:"",currentMax:"",latest:"",status:"Loading"})}deletedNodes(e){for(let t of e)this.decorationStore.delete(t)}dirtyNodes(e){for(let t of e)this.decorate(t,{id:t,current:"",currentMax:"",latest:"",status:"Loading"})}decorate(e,t){if(this.nodeStore.node(e)&&this.nodeStore.node(e)?.denpendencyType!=="Crate")return null;let n=this.decorationStore.get(e);if(n){if(n.latest===t.latest&&n.status===t.status)return this.nodeStore.range(e)&&it.window.activeTextEditor?.setDecorations(n.decoration,[this.nodeStore.range(e)]),n.decoration;n.decoration.dispose()}let s;switch(t.status){case"Latest":s=Dn(t.latest);break;case"Outdated":s=Ln(t);break;case"Error":s=An(t.latest);break;case"Loading":s=qn();break}this.decorationStore.set(e,{latest:t.latest,status:t.status,decoration:s}),this.nodeStore.range(e)&&it.window.activeTextEditor?.setDecorations(s,[this.nodeStore.range(e)])}async onDidChangeTextDocument(e){e.document.fileName.endsWith("Cargo.toml")&&!e.document.isDirty&&await this.onChange(e.document)}async onDidChangeActiveEditor(e){e&&e.document.fileName.endsWith("Cargo.toml")&&await this.onChange(e.document)}};var jn=require("vscode"),at=class{client=void 0;dependencies={};async init(){let e=jn.extensions.getExtension("rust-lang.rust-analyzer");if(!e)throw new Error("Require Rust Analyzer");let t=await e.activate();if(!t.client)throw new Error("Require Rust Analyzer");t.client.start(),this.client=t.client}stop(){if(this.client)return this.client.stop()}async dependencyList(){let e=await this.client?.sendRequest("rust-analyzer/fetchDependencyList",{});for(let t of e.crates)this.dependencies[t.name]=t}dependency(e){return this.dependencies[e]}languageClient(){return this.client}},ct=new at;async function Zi(r){let e={language:"toml",pattern:"**/Cargo.toml"},t=await x(ct.init());t.isErr()&&q.window.showErrorMessage(t.unwrapErr().message);let n=new $e(r);r.subscriptions.push(q.window.onDidChangeActiveTextEditor(n.onDidChangeActiveEditor,n),q.workspace.onDidChangeTextDocument(n.onDidChangeTextDocument,n),q.languages.registerCompletionItemProvider(e,new Ie(r),'"',".","+","-","0","1","2","3","4","5","6","7","8","9"))}function ea(){return ct.stop()}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

ky/distribution/index.js:
  (*! MIT License  Sindre Sorhus *)
*/
