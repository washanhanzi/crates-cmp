"use strict";var Us=Object.create;var ae=Object.defineProperty;var Fs=Object.getOwnPropertyDescriptor;var Gs=Object.getOwnPropertyNames;var Vs=Object.getPrototypeOf,Ms=Object.prototype.hasOwnProperty;var m=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),Xs=(r,e)=>{for(var t in e)ae(r,t,{get:e[t],enumerable:!0})},ft=(r,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Gs(e))!Ms.call(r,n)&&n!==t&&ae(r,n,{get:()=>e[n],enumerable:!(s=Fs(e,n))||s.enumerable});return r};var ce=(r,e,t)=>(t=r!=null?Us(Vs(r)):{},ft(e||!r||!r.__esModule?ae(t,"default",{value:r,enumerable:!0}):t,r)),Bs=r=>ft(ae({},"__esModule",{value:!0}),r);var K=m((ka,bt)=>{var Ys="2.0.0",Js=Number.MAX_SAFE_INTEGER||9007199254740991,Qs=16,Zs=250,en=["major","premajor","minor","preminor","patch","prepatch","prerelease"];bt.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:Qs,MAX_SAFE_BUILD_LENGTH:Zs,MAX_SAFE_INTEGER:Js,RELEASE_TYPES:en,SEMVER_SPEC_VERSION:Ys,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Y=m((_a,It)=>{var tn=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...r)=>console.error("SEMVER",...r):()=>{};It.exports=tn});var j=m((I,vt)=>{var{MAX_SAFE_COMPONENT_LENGTH:je,MAX_SAFE_BUILD_LENGTH:rn,MAX_LENGTH:sn}=K(),nn=Y();I=vt.exports={};var on=I.re=[],an=I.safeRe=[],l=I.src=[],f=I.t={},cn=0,Ue="[a-zA-Z0-9-]",un=[["\\s",1],["\\d",sn],[Ue,rn]],ln=r=>{for(let[e,t]of un)r=r.split(`${e}*`).join(`${e}{0,${t}}`).split(`${e}+`).join(`${e}{1,${t}}`);return r},E=(r,e,t)=>{let s=ln(e),n=cn++;nn(r,n,e),f[r]=n,l[n]=e,on[n]=new RegExp(e,t?"g":void 0),an[n]=new RegExp(s,t?"g":void 0)};E("NUMERICIDENTIFIER","0|[1-9]\\d*");E("NUMERICIDENTIFIERLOOSE","\\d+");E("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Ue}*`);E("MAINVERSION",`(${l[f.NUMERICIDENTIFIER]})\\.(${l[f.NUMERICIDENTIFIER]})\\.(${l[f.NUMERICIDENTIFIER]})`);E("MAINVERSIONLOOSE",`(${l[f.NUMERICIDENTIFIERLOOSE]})\\.(${l[f.NUMERICIDENTIFIERLOOSE]})\\.(${l[f.NUMERICIDENTIFIERLOOSE]})`);E("PRERELEASEIDENTIFIER",`(?:${l[f.NUMERICIDENTIFIER]}|${l[f.NONNUMERICIDENTIFIER]})`);E("PRERELEASEIDENTIFIERLOOSE",`(?:${l[f.NUMERICIDENTIFIERLOOSE]}|${l[f.NONNUMERICIDENTIFIER]})`);E("PRERELEASE",`(?:-(${l[f.PRERELEASEIDENTIFIER]}(?:\\.${l[f.PRERELEASEIDENTIFIER]})*))`);E("PRERELEASELOOSE",`(?:-?(${l[f.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[f.PRERELEASEIDENTIFIERLOOSE]})*))`);E("BUILDIDENTIFIER",`${Ue}+`);E("BUILD",`(?:\\+(${l[f.BUILDIDENTIFIER]}(?:\\.${l[f.BUILDIDENTIFIER]})*))`);E("FULLPLAIN",`v?${l[f.MAINVERSION]}${l[f.PRERELEASE]}?${l[f.BUILD]}?`);E("FULL",`^${l[f.FULLPLAIN]}$`);E("LOOSEPLAIN",`[v=\\s]*${l[f.MAINVERSIONLOOSE]}${l[f.PRERELEASELOOSE]}?${l[f.BUILD]}?`);E("LOOSE",`^${l[f.LOOSEPLAIN]}$`);E("GTLT","((?:<|>)?=?)");E("XRANGEIDENTIFIERLOOSE",`${l[f.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);E("XRANGEIDENTIFIER",`${l[f.NUMERICIDENTIFIER]}|x|X|\\*`);E("XRANGEPLAIN",`[v=\\s]*(${l[f.XRANGEIDENTIFIER]})(?:\\.(${l[f.XRANGEIDENTIFIER]})(?:\\.(${l[f.XRANGEIDENTIFIER]})(?:${l[f.PRERELEASE]})?${l[f.BUILD]}?)?)?`);E("XRANGEPLAINLOOSE",`[v=\\s]*(${l[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[f.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[f.XRANGEIDENTIFIERLOOSE]})(?:${l[f.PRERELEASELOOSE]})?${l[f.BUILD]}?)?)?`);E("XRANGE",`^${l[f.GTLT]}\\s*${l[f.XRANGEPLAIN]}$`);E("XRANGELOOSE",`^${l[f.GTLT]}\\s*${l[f.XRANGEPLAINLOOSE]}$`);E("COERCEPLAIN",`(^|[^\\d])(\\d{1,${je}})(?:\\.(\\d{1,${je}}))?(?:\\.(\\d{1,${je}}))?`);E("COERCE",`${l[f.COERCEPLAIN]}(?:$|[^\\d])`);E("COERCEFULL",l[f.COERCEPLAIN]+`(?:${l[f.PRERELEASE]})?(?:${l[f.BUILD]})?(?:$|[^\\d])`);E("COERCERTL",l[f.COERCE],!0);E("COERCERTLFULL",l[f.COERCEFULL],!0);E("LONETILDE","(?:~>?)");E("TILDETRIM",`(\\s*)${l[f.LONETILDE]}\\s+`,!0);I.tildeTrimReplace="$1~";E("TILDE",`^${l[f.LONETILDE]}${l[f.XRANGEPLAIN]}$`);E("TILDELOOSE",`^${l[f.LONETILDE]}${l[f.XRANGEPLAINLOOSE]}$`);E("LONECARET","(?:\\^)");E("CARETTRIM",`(\\s*)${l[f.LONECARET]}\\s+`,!0);I.caretTrimReplace="$1^";E("CARET",`^${l[f.LONECARET]}${l[f.XRANGEPLAIN]}$`);E("CARETLOOSE",`^${l[f.LONECARET]}${l[f.XRANGEPLAINLOOSE]}$`);E("COMPARATORLOOSE",`^${l[f.GTLT]}\\s*(${l[f.LOOSEPLAIN]})$|^$`);E("COMPARATOR",`^${l[f.GTLT]}\\s*(${l[f.FULLPLAIN]})$|^$`);E("COMPARATORTRIM",`(\\s*)${l[f.GTLT]}\\s*(${l[f.LOOSEPLAIN]}|${l[f.XRANGEPLAIN]})`,!0);I.comparatorTrimReplace="$1$2$3";E("HYPHENRANGE",`^\\s*(${l[f.XRANGEPLAIN]})\\s+-\\s+(${l[f.XRANGEPLAIN]})\\s*$`);E("HYPHENRANGELOOSE",`^\\s*(${l[f.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[f.XRANGEPLAINLOOSE]})\\s*$`);E("STAR","(<|>)?=?\\s*\\*");E("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");E("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var he=m((ja,Dt)=>{var fn=Object.freeze({loose:!0}),pn=Object.freeze({}),hn=r=>r?typeof r!="object"?fn:r:pn;Dt.exports=hn});var Fe=m((Ua,Ot)=>{var Ct=/^[0-9]+$/,$t=(r,e)=>{let t=Ct.test(r),s=Ct.test(e);return t&&s&&(r=+r,e=+e),r===e?0:t&&!s?-1:s&&!t?1:r<e?-1:1},dn=(r,e)=>$t(e,r);Ot.exports={compareIdentifiers:$t,rcompareIdentifiers:dn}});var x=m((Fa,Pt)=>{var de=Y(),{MAX_LENGTH:At,MAX_SAFE_INTEGER:me}=K(),{safeRe:Lt,t:qt}=j(),mn=he(),{compareIdentifiers:U}=Fe(),Ge=class r{constructor(e,t){if(t=mn(t),e instanceof r){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>At)throw new TypeError(`version is longer than ${At} characters`);de("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;let s=e.trim().match(t.loose?Lt[qt.LOOSE]:Lt[qt.FULL]);if(!s)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>me||this.major<0)throw new TypeError("Invalid major version");if(this.minor>me||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>me||this.patch<0)throw new TypeError("Invalid patch version");s[4]?this.prerelease=s[4].split(".").map(n=>{if(/^[0-9]+$/.test(n)){let i=+n;if(i>=0&&i<me)return i}return n}):this.prerelease=[],this.build=s[5]?s[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(de("SemVer.compare",this.version,this.options,e),!(e instanceof r)){if(typeof e=="string"&&e===this.version)return 0;e=new r(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof r||(e=new r(e,this.options)),U(this.major,e.major)||U(this.minor,e.minor)||U(this.patch,e.patch)}comparePre(e){if(e instanceof r||(e=new r(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{let s=this.prerelease[t],n=e.prerelease[t];if(de("prerelease compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return U(s,n)}while(++t)}compareBuild(e){e instanceof r||(e=new r(e,this.options));let t=0;do{let s=this.build[t],n=e.build[t];if(de("build compare",t,s,n),s===void 0&&n===void 0)return 0;if(n===void 0)return 1;if(s===void 0)return-1;if(s===n)continue;return U(s,n)}while(++t)}inc(e,t,s){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,s);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,s);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,s),this.inc("pre",t,s);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t,s),this.inc("pre",t,s);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let n=Number(s)?1:0;if(!t&&s===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[n];else{let i=this.prerelease.length;for(;--i>=0;)typeof this.prerelease[i]=="number"&&(this.prerelease[i]++,i=-2);if(i===-1){if(t===this.prerelease.join(".")&&s===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(n)}}if(t){let i=[t,n];s===!1&&(i=[t]),U(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=i):this.prerelease=i}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Pt.exports=Ge});var L=m((Ga,_t)=>{var kt=x(),En=(r,e,t=!1)=>{if(r instanceof kt)return r;try{return new kt(r,e)}catch(s){if(!t)return null;throw s}};_t.exports=En});var Ut=m((Va,jt)=>{var gn=L(),yn=(r,e)=>{let t=gn(r,e);return t?t.version:null};jt.exports=yn});var Gt=m((Ma,Ft)=>{var xn=L(),wn=(r,e)=>{let t=xn(r.trim().replace(/^[=v]+/,""),e);return t?t.version:null};Ft.exports=wn});var Xt=m((Xa,Mt)=>{var Vt=x(),Tn=(r,e,t,s,n)=>{typeof t=="string"&&(n=s,s=t,t=void 0);try{return new Vt(r instanceof Vt?r.version:r,t).inc(e,s,n).version}catch{return null}};Mt.exports=Tn});var zt=m((Ba,Ht)=>{var Bt=L(),Rn=(r,e)=>{let t=Bt(r,null,!0),s=Bt(e,null,!0),n=t.compare(s);if(n===0)return null;let i=n>0,o=i?t:s,a=i?s:t,c=!!o.prerelease.length;if(!!a.prerelease.length&&!c)return!a.patch&&!a.minor?"major":o.patch?"patch":o.minor?"minor":"major";let d=c?"pre":"";return t.major!==s.major?d+"major":t.minor!==s.minor?d+"minor":t.patch!==s.patch?d+"patch":"prerelease"};Ht.exports=Rn});var Kt=m((Ha,Wt)=>{var Sn=x(),Nn=(r,e)=>new Sn(r,e).major;Wt.exports=Nn});var Jt=m((za,Yt)=>{var bn=x(),In=(r,e)=>new bn(r,e).minor;Yt.exports=In});var Zt=m((Wa,Qt)=>{var vn=x(),Dn=(r,e)=>new vn(r,e).patch;Qt.exports=Dn});var tr=m((Ka,er)=>{var Cn=L(),$n=(r,e)=>{let t=Cn(r,e);return t&&t.prerelease.length?t.prerelease:null};er.exports=$n});var N=m((Ya,sr)=>{var rr=x(),On=(r,e,t)=>new rr(r,t).compare(new rr(e,t));sr.exports=On});var ir=m((Ja,nr)=>{var An=N(),Ln=(r,e,t)=>An(e,r,t);nr.exports=Ln});var ar=m((Qa,or)=>{var qn=N(),Pn=(r,e)=>qn(r,e,!0);or.exports=Pn});var Ee=m((Za,ur)=>{var cr=x(),kn=(r,e,t)=>{let s=new cr(r,t),n=new cr(e,t);return s.compare(n)||s.compareBuild(n)};ur.exports=kn});var fr=m((ec,lr)=>{var _n=Ee(),jn=(r,e)=>r.sort((t,s)=>_n(t,s,e));lr.exports=jn});var hr=m((tc,pr)=>{var Un=Ee(),Fn=(r,e)=>r.sort((t,s)=>Un(s,t,e));pr.exports=Fn});var J=m((rc,dr)=>{var Gn=N(),Vn=(r,e,t)=>Gn(r,e,t)>0;dr.exports=Vn});var ge=m((sc,mr)=>{var Mn=N(),Xn=(r,e,t)=>Mn(r,e,t)<0;mr.exports=Xn});var Ve=m((nc,Er)=>{var Bn=N(),Hn=(r,e,t)=>Bn(r,e,t)===0;Er.exports=Hn});var Me=m((ic,gr)=>{var zn=N(),Wn=(r,e,t)=>zn(r,e,t)!==0;gr.exports=Wn});var ye=m((oc,yr)=>{var Kn=N(),Yn=(r,e,t)=>Kn(r,e,t)>=0;yr.exports=Yn});var xe=m((ac,xr)=>{var Jn=N(),Qn=(r,e,t)=>Jn(r,e,t)<=0;xr.exports=Qn});var Xe=m((cc,wr)=>{var Zn=Ve(),ei=Me(),ti=J(),ri=ye(),si=ge(),ni=xe(),ii=(r,e,t,s)=>{switch(e){case"===":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r===t;case"!==":return typeof r=="object"&&(r=r.version),typeof t=="object"&&(t=t.version),r!==t;case"":case"=":case"==":return Zn(r,t,s);case"!=":return ei(r,t,s);case">":return ti(r,t,s);case">=":return ri(r,t,s);case"<":return si(r,t,s);case"<=":return ni(r,t,s);default:throw new TypeError(`Invalid operator: ${e}`)}};wr.exports=ii});var Rr=m((uc,Tr)=>{var oi=x(),ai=L(),{safeRe:we,t:Te}=j(),ci=(r,e)=>{if(r instanceof oi)return r;if(typeof r=="number"&&(r=String(r)),typeof r!="string")return null;e=e||{};let t=null;if(!e.rtl)t=r.match(e.includePrerelease?we[Te.COERCEFULL]:we[Te.COERCE]);else{let c=e.includePrerelease?we[Te.COERCERTLFULL]:we[Te.COERCERTL],u;for(;(u=c.exec(r))&&(!t||t.index+t[0].length!==r.length);)(!t||u.index+u[0].length!==t.index+t[0].length)&&(t=u),c.lastIndex=u.index+u[1].length+u[2].length;c.lastIndex=-1}if(t===null)return null;let s=t[2],n=t[3]||"0",i=t[4]||"0",o=e.includePrerelease&&t[5]?`-${t[5]}`:"",a=e.includePrerelease&&t[6]?`+${t[6]}`:"";return ai(`${s}.${n}.${i}${o}${a}`,e)};Tr.exports=ci});var Nr=m((lc,Sr)=>{var Be=class{constructor(){this.max=1e3,this.map=new Map}get(e){let t=this.map.get(e);if(t!==void 0)return this.map.delete(e),this.map.set(e,t),t}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&t!==void 0){if(this.map.size>=this.max){let n=this.map.keys().next().value;this.delete(n)}this.map.set(e,t)}return this}};Sr.exports=Be});var b=m((fc,Dr)=>{var He=class r{constructor(e,t){if(t=li(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof ze)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(s=>this.parseRange(s.trim())).filter(s=>s.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let s=this.set[0];if(this.set=this.set.filter(n=>!Ir(n[0])),this.set.length===0)this.set=[s];else if(this.set.length>1){for(let n of this.set)if(n.length===1&&gi(n[0])){this.set=[n];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let s=((this.options.includePrerelease&&mi)|(this.options.loose&&Ei))+":"+e,n=br.get(s);if(n)return n;let i=this.options.loose,o=i?S[w.HYPHENRANGELOOSE]:S[w.HYPHENRANGE];e=e.replace(o,vi(this.options.includePrerelease)),y("hyphen replace",e),e=e.replace(S[w.COMPARATORTRIM],pi),y("comparator trim",e),e=e.replace(S[w.TILDETRIM],hi),y("tilde trim",e),e=e.replace(S[w.CARETTRIM],di),y("caret trim",e);let a=e.split(" ").map(p=>yi(p,this.options)).join(" ").split(/\s+/).map(p=>Ii(p,this.options));i&&(a=a.filter(p=>(y("loose invalid filter",p,this.options),!!p.match(S[w.COMPARATORLOOSE])))),y("range list",a);let c=new Map,u=a.map(p=>new ze(p,this.options));for(let p of u){if(Ir(p))return[p];c.set(p.value,p)}c.size>1&&c.has("")&&c.delete("");let d=[...c.values()];return br.set(s,d),d}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some(s=>vr(s,t)&&e.set.some(n=>vr(n,t)&&s.every(i=>n.every(o=>i.intersects(o,t)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new fi(e,this.options)}catch{return!1}for(let t=0;t<this.set.length;t++)if(Di(this.set[t],e,this.options))return!0;return!1}};Dr.exports=He;var ui=Nr(),br=new ui,li=he(),ze=Q(),y=Y(),fi=x(),{safeRe:S,t:w,comparatorTrimReplace:pi,tildeTrimReplace:hi,caretTrimReplace:di}=j(),{FLAG_INCLUDE_PRERELEASE:mi,FLAG_LOOSE:Ei}=K(),Ir=r=>r.value==="<0.0.0-0",gi=r=>r.value==="",vr=(r,e)=>{let t=!0,s=r.slice(),n=s.pop();for(;t&&s.length;)t=s.every(i=>n.intersects(i,e)),n=s.pop();return t},yi=(r,e)=>(y("comp",r,e),r=Ti(r,e),y("caret",r),r=xi(r,e),y("tildes",r),r=Si(r,e),y("xrange",r),r=bi(r,e),y("stars",r),r),T=r=>!r||r.toLowerCase()==="x"||r==="*",xi=(r,e)=>r.trim().split(/\s+/).map(t=>wi(t,e)).join(" "),wi=(r,e)=>{let t=e.loose?S[w.TILDELOOSE]:S[w.TILDE];return r.replace(t,(s,n,i,o,a)=>{y("tilde",r,s,n,i,o,a);let c;return T(n)?c="":T(i)?c=`>=${n}.0.0 <${+n+1}.0.0-0`:T(o)?c=`>=${n}.${i}.0 <${n}.${+i+1}.0-0`:a?(y("replaceTilde pr",a),c=`>=${n}.${i}.${o}-${a} <${n}.${+i+1}.0-0`):c=`>=${n}.${i}.${o} <${n}.${+i+1}.0-0`,y("tilde return",c),c})},Ti=(r,e)=>r.trim().split(/\s+/).map(t=>Ri(t,e)).join(" "),Ri=(r,e)=>{y("caret",r,e);let t=e.loose?S[w.CARETLOOSE]:S[w.CARET],s=e.includePrerelease?"-0":"";return r.replace(t,(n,i,o,a,c)=>{y("caret",r,n,i,o,a,c);let u;return T(i)?u="":T(o)?u=`>=${i}.0.0${s} <${+i+1}.0.0-0`:T(a)?i==="0"?u=`>=${i}.${o}.0${s} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.0${s} <${+i+1}.0.0-0`:c?(y("replaceCaret pr",c),i==="0"?o==="0"?u=`>=${i}.${o}.${a}-${c} <${i}.${o}.${+a+1}-0`:u=`>=${i}.${o}.${a}-${c} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.${a}-${c} <${+i+1}.0.0-0`):(y("no pr"),i==="0"?o==="0"?u=`>=${i}.${o}.${a}${s} <${i}.${o}.${+a+1}-0`:u=`>=${i}.${o}.${a}${s} <${i}.${+o+1}.0-0`:u=`>=${i}.${o}.${a} <${+i+1}.0.0-0`),y("caret return",u),u})},Si=(r,e)=>(y("replaceXRanges",r,e),r.split(/\s+/).map(t=>Ni(t,e)).join(" ")),Ni=(r,e)=>{r=r.trim();let t=e.loose?S[w.XRANGELOOSE]:S[w.XRANGE];return r.replace(t,(s,n,i,o,a,c)=>{y("xRange",r,s,n,i,o,a,c);let u=T(i),d=u||T(o),p=d||T(a),g=p;return n==="="&&g&&(n=""),c=e.includePrerelease?"-0":"",u?n===">"||n==="<"?s="<0.0.0-0":s="*":n&&g?(d&&(o=0),a=0,n===">"?(n=">=",d?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):n==="<="&&(n="<",d?i=+i+1:o=+o+1),n==="<"&&(c="-0"),s=`${n+i}.${o}.${a}${c}`):d?s=`>=${i}.0.0${c} <${+i+1}.0.0-0`:p&&(s=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),y("xRange return",s),s})},bi=(r,e)=>(y("replaceStars",r,e),r.trim().replace(S[w.STAR],"")),Ii=(r,e)=>(y("replaceGTE0",r,e),r.trim().replace(S[e.includePrerelease?w.GTE0PRE:w.GTE0],"")),vi=r=>(e,t,s,n,i,o,a,c,u,d,p,g)=>(T(s)?t="":T(n)?t=`>=${s}.0.0${r?"-0":""}`:T(i)?t=`>=${s}.${n}.0${r?"-0":""}`:o?t=`>=${t}`:t=`>=${t}${r?"-0":""}`,T(u)?c="":T(d)?c=`<${+u+1}.0.0-0`:T(p)?c=`<${u}.${+d+1}.0-0`:g?c=`<=${u}.${d}.${p}-${g}`:r?c=`<${u}.${d}.${+p+1}-0`:c=`<=${c}`,`${t} ${c}`.trim()),Di=(r,e,t)=>{for(let s=0;s<r.length;s++)if(!r[s].test(e))return!1;if(e.prerelease.length&&!t.includePrerelease){for(let s=0;s<r.length;s++)if(y(r[s].semver),r[s].semver!==ze.ANY&&r[s].semver.prerelease.length>0){let n=r[s].semver;if(n.major===e.major&&n.minor===e.minor&&n.patch===e.patch)return!0}return!1}return!0}});var Q=m((pc,qr)=>{var Z=Symbol("SemVer ANY"),Ye=class r{static get ANY(){return Z}constructor(e,t){if(t=Cr(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Ke("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Z?this.value="":this.value=this.operator+this.semver.version,Ke("comp",this)}parse(e){let t=this.options.loose?$r[Or.COMPARATORLOOSE]:$r[Or.COMPARATOR],s=e.match(t);if(!s)throw new TypeError(`Invalid comparator: ${e}`);this.operator=s[1]!==void 0?s[1]:"",this.operator==="="&&(this.operator=""),s[2]?this.semver=new Ar(s[2],this.options.loose):this.semver=Z}toString(){return this.value}test(e){if(Ke("Comparator.test",e,this.options.loose),this.semver===Z||e===Z)return!0;if(typeof e=="string")try{e=new Ar(e,this.options)}catch{return!1}return We(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Lr(e.value,t).test(this.value):e.operator===""?e.value===""?!0:new Lr(this.value,t).test(e.semver):(t=Cr(t),t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||We(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||We(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};qr.exports=Ye;var Cr=he(),{safeRe:$r,t:Or}=j(),We=Xe(),Ke=Y(),Ar=x(),Lr=b()});var ee=m((hc,Pr)=>{var Ci=b(),$i=(r,e,t)=>{try{e=new Ci(e,t)}catch{return!1}return e.test(r)};Pr.exports=$i});var _r=m((dc,kr)=>{var Oi=b(),Ai=(r,e)=>new Oi(r,e).set.map(t=>t.map(s=>s.value).join(" ").trim().split(" "));kr.exports=Ai});var Ur=m((mc,jr)=>{var Li=x(),qi=b(),Pi=(r,e,t)=>{let s=null,n=null,i=null;try{i=new qi(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!s||n.compare(o)===-1)&&(s=o,n=new Li(s,t))}),s};jr.exports=Pi});var Gr=m((Ec,Fr)=>{var ki=x(),_i=b(),ji=(r,e,t)=>{let s=null,n=null,i=null;try{i=new _i(e,t)}catch{return null}return r.forEach(o=>{i.test(o)&&(!s||n.compare(o)===1)&&(s=o,n=new ki(s,t))}),s};Fr.exports=ji});var Xr=m((gc,Mr)=>{var Je=x(),Ui=b(),Vr=J(),Fi=(r,e)=>{r=new Ui(r,e);let t=new Je("0.0.0");if(r.test(t)||(t=new Je("0.0.0-0"),r.test(t)))return t;t=null;for(let s=0;s<r.set.length;++s){let n=r.set[s],i=null;n.forEach(o=>{let a=new Je(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!i||Vr(a,i))&&(i=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${o.operator}`)}}),i&&(!t||Vr(t,i))&&(t=i)}return t&&r.test(t)?t:null};Mr.exports=Fi});var Hr=m((yc,Br)=>{var Gi=b(),Vi=(r,e)=>{try{return new Gi(r,e).range||"*"}catch{return null}};Br.exports=Vi});var Re=m((xc,Yr)=>{var Mi=x(),Kr=Q(),{ANY:Xi}=Kr,Bi=b(),Hi=ee(),zr=J(),Wr=ge(),zi=xe(),Wi=ye(),Ki=(r,e,t,s)=>{r=new Mi(r,s),e=new Bi(e,s);let n,i,o,a,c;switch(t){case">":n=zr,i=zi,o=Wr,a=">",c=">=";break;case"<":n=Wr,i=Wi,o=zr,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Hi(r,e,s))return!1;for(let u=0;u<e.set.length;++u){let d=e.set[u],p=null,g=null;if(d.forEach(h=>{h.semver===Xi&&(h=new Kr(">=0.0.0")),p=p||h,g=g||h,n(h.semver,p.semver,s)?p=h:o(h.semver,g.semver,s)&&(g=h)}),p.operator===a||p.operator===c||(!g.operator||g.operator===a)&&i(r,g.semver))return!1;if(g.operator===c&&o(r,g.semver))return!1}return!0};Yr.exports=Ki});var Qr=m((wc,Jr)=>{var Yi=Re(),Ji=(r,e,t)=>Yi(r,e,">",t);Jr.exports=Ji});var es=m((Tc,Zr)=>{var Qi=Re(),Zi=(r,e,t)=>Qi(r,e,"<",t);Zr.exports=Zi});var ss=m((Rc,rs)=>{var ts=b(),eo=(r,e,t)=>(r=new ts(r,t),e=new ts(e,t),r.intersects(e,t));rs.exports=eo});var is=m((Sc,ns)=>{var to=ee(),ro=N();ns.exports=(r,e,t)=>{let s=[],n=null,i=null,o=r.sort((d,p)=>ro(d,p,t));for(let d of o)to(d,e,t)?(i=d,n||(n=d)):(i&&s.push([n,i]),i=null,n=null);n&&s.push([n,null]);let a=[];for(let[d,p]of s)d===p?a.push(d):!p&&d===o[0]?a.push("*"):p?d===o[0]?a.push(`<=${p}`):a.push(`${d} - ${p}`):a.push(`>=${d}`);let c=a.join(" || "),u=typeof e.raw=="string"?e.raw:String(e);return c.length<u.length?c:e}});var fs=m((Nc,ls)=>{var os=b(),Ze=Q(),{ANY:Qe}=Ze,te=ee(),et=N(),so=(r,e,t={})=>{if(r===e)return!0;r=new os(r,t),e=new os(e,t);let s=!1;e:for(let n of r.set){for(let i of e.set){let o=io(n,i,t);if(s=s||o!==null,o)continue e}if(s)return!1}return!0},no=[new Ze(">=0.0.0-0")],as=[new Ze(">=0.0.0")],io=(r,e,t)=>{if(r===e)return!0;if(r.length===1&&r[0].semver===Qe){if(e.length===1&&e[0].semver===Qe)return!0;t.includePrerelease?r=no:r=as}if(e.length===1&&e[0].semver===Qe){if(t.includePrerelease)return!0;e=as}let s=new Set,n,i;for(let h of r)h.operator===">"||h.operator===">="?n=cs(n,h,t):h.operator==="<"||h.operator==="<="?i=us(i,h,t):s.add(h.semver);if(s.size>1)return null;let o;if(n&&i){if(o=et(n.semver,i.semver,t),o>0)return null;if(o===0&&(n.operator!==">="||i.operator!=="<="))return null}for(let h of s){if(n&&!te(h,String(n),t)||i&&!te(h,String(i),t))return null;for(let Oe of e)if(!te(h,String(Oe),t))return!1;return!0}let a,c,u,d,p=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,g=n&&!t.includePrerelease&&n.semver.prerelease.length?n.semver:!1;p&&p.prerelease.length===1&&i.operator==="<"&&p.prerelease[0]===0&&(p=!1);for(let h of e){if(d=d||h.operator===">"||h.operator===">=",u=u||h.operator==="<"||h.operator==="<=",n){if(g&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===g.major&&h.semver.minor===g.minor&&h.semver.patch===g.patch&&(g=!1),h.operator===">"||h.operator===">="){if(a=cs(n,h,t),a===h&&a!==n)return!1}else if(n.operator===">="&&!te(n.semver,String(h),t))return!1}if(i){if(p&&h.semver.prerelease&&h.semver.prerelease.length&&h.semver.major===p.major&&h.semver.minor===p.minor&&h.semver.patch===p.patch&&(p=!1),h.operator==="<"||h.operator==="<="){if(c=us(i,h,t),c===h&&c!==i)return!1}else if(i.operator==="<="&&!te(i.semver,String(h),t))return!1}if(!h.operator&&(i||n)&&o!==0)return!1}return!(n&&u&&!i&&o!==0||i&&d&&!n&&o!==0||g||p)},cs=(r,e,t)=>{if(!r)return e;let s=et(r.semver,e.semver,t);return s>0?r:s<0||e.operator===">"&&r.operator===">="?e:r},us=(r,e,t)=>{if(!r)return e;let s=et(r.semver,e.semver,t);return s<0?r:s>0||e.operator==="<"&&r.operator==="<="?e:r};ls.exports=so});var re=m((bc,ds)=>{var tt=j(),ps=K(),oo=x(),hs=Fe(),ao=L(),co=Ut(),uo=Gt(),lo=Xt(),fo=zt(),po=Kt(),ho=Jt(),mo=Zt(),Eo=tr(),go=N(),yo=ir(),xo=ar(),wo=Ee(),To=fr(),Ro=hr(),So=J(),No=ge(),bo=Ve(),Io=Me(),vo=ye(),Do=xe(),Co=Xe(),$o=Rr(),Oo=Q(),Ao=b(),Lo=ee(),qo=_r(),Po=Ur(),ko=Gr(),_o=Xr(),jo=Hr(),Uo=Re(),Fo=Qr(),Go=es(),Vo=ss(),Mo=is(),Xo=fs();ds.exports={parse:ao,valid:co,clean:uo,inc:lo,diff:fo,major:po,minor:ho,patch:mo,prerelease:Eo,compare:go,rcompare:yo,compareLoose:xo,compareBuild:wo,sort:To,rsort:Ro,gt:So,lt:No,eq:bo,neq:Io,gte:vo,lte:Do,cmp:Co,coerce:$o,Comparator:Oo,Range:Ao,satisfies:Lo,toComparators:qo,maxSatisfying:Po,minSatisfying:ko,minVersion:_o,validRange:jo,outside:Uo,gtr:Fo,ltr:Go,intersects:Vo,simplifyRange:Mo,subset:Xo,SemVer:oo,re:tt.re,src:tt.src,tokens:tt.t,SEMVER_SPEC_VERSION:ps.SEMVER_SPEC_VERSION,RELEASE_TYPES:ps.RELEASE_TYPES,compareIdentifiers:hs.compareIdentifiers,rcompareIdentifiers:hs.rcompareIdentifiers}});var ta={};Xs(ta,{activate:()=>Zo,deactivate:()=>ea});module.exports=Bs(ta);var X=require("vscode");function P(r){return'"'+r+'"'}function pt(r){return r===void 0?!0:typeof r=="string"||Array.isArray(r)?r.length===0:typeof r=="object"&&r!==null?Object.keys(r).length===0:!1}var Ae="abcdefghijklmnopqrstuvwxyz";function k(r){if(r<0||!Number.isInteger(r))throw new Error("Input must be a non-negative integer.");let e=Math.floor(r/Ae.length),t=Ae[r%Ae.length];return"z".repeat(e)+t}var B=class extends Error{constructor(e,t,s){let n=e.status||e.status===0?e.status:"",i=e.statusText||"",o=`${n} ${i}`.trim(),a=o?`status code ${o}`:"an unknown error";super(`Request failed with ${a}: ${t.method} ${t.url}`),Object.defineProperty(this,"response",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="HTTPError",this.response=e,this.request=t,this.options=s}};var _=class extends Error{constructor(e){super(`Request timed out: ${e.method} ${e.url}`),Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name="TimeoutError",this.request=e}};var H=r=>r!==null&&typeof r=="object";var z=(...r)=>{for(let e of r)if((!H(e)||Array.isArray(e))&&e!==void 0)throw new TypeError("The `options` argument must be an object");return ue({},...r)},Le=(r={},e={})=>{let t=new globalThis.Headers(r),s=e instanceof globalThis.Headers,n=new globalThis.Headers(e);for(let[i,o]of n.entries())s&&o==="undefined"||o===void 0?t.delete(i):t.set(i,o);return t},ue=(...r)=>{let e={},t={};for(let s of r)if(Array.isArray(s))Array.isArray(e)||(e=[]),e=[...e,...s];else if(H(s)){for(let[n,i]of Object.entries(s))H(i)&&n in e&&(i=ue(e[n],i)),e={...e,[n]:i};H(s.headers)&&(t=Le(t,s.headers),e.headers=t)}return e};var ht=(()=>{let r=!1,e=!1,t=typeof globalThis.ReadableStream=="function",s=typeof globalThis.Request=="function";if(t&&s)try{e=new globalThis.Request("https://empty.invalid",{body:new globalThis.ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type")}catch(n){if(n instanceof Error&&n.message==="unsupported BodyInit type")return!1;throw n}return r&&!e})(),dt=typeof globalThis.AbortController=="function",mt=typeof globalThis.ReadableStream=="function",Et=typeof globalThis.FormData=="function",le=["get","post","put","patch","head","delete"],Hs=()=>{};Hs();var gt={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},fe=2147483647,pe=Symbol("stop"),yt={json:!0,parseJson:!0,stringifyJson:!0,searchParams:!0,prefixUrl:!0,retry:!0,timeout:!0,hooks:!0,throwHttpErrors:!0,onDownloadProgress:!0,fetch:!0},xt={method:!0,headers:!0,body:!0,mode:!0,credentials:!0,cache:!0,redirect:!0,referrer:!0,referrerPolicy:!0,integrity:!0,keepalive:!0,signal:!0,window:!0,dispatcher:!0,duplex:!0,priority:!0};var Tt=r=>le.includes(r)?r.toUpperCase():r,zs=["get","put","head","delete","options","trace"],Ws=[408,413,429,500,502,503,504],Rt=[413,429,503],wt={limit:2,methods:zs,statusCodes:Ws,afterStatusCodes:Rt,maxRetryAfter:Number.POSITIVE_INFINITY,backoffLimit:Number.POSITIVE_INFINITY,delay:r=>.3*2**(r-1)*1e3},St=(r={})=>{if(typeof r=="number")return{...wt,limit:r};if(r.methods&&!Array.isArray(r.methods))throw new Error("retry.methods must be an array");if(r.statusCodes&&!Array.isArray(r.statusCodes))throw new Error("retry.statusCodes must be an array");return{...wt,...r,afterStatusCodes:Rt}};async function qe(r,e,t,s){return new Promise((n,i)=>{let o=setTimeout(()=>{t&&t.abort(),i(new _(r))},s.timeout);s.fetch(r,e).then(n).catch(i).then(()=>{clearTimeout(o)})})}async function Pe(r,{signal:e}){return new Promise((t,s)=>{e&&(e.throwIfAborted(),e.addEventListener("abort",n,{once:!0}));function n(){clearTimeout(i),s(e.reason)}let i=setTimeout(()=>{e?.removeEventListener("abort",n),t()},r)})}var Nt=(r,e)=>{let t={};for(let s in e)!(s in xt)&&!(s in yt)&&!(s in r)&&(t[s]=e[s]);return t};var W=class r{static create(e,t){let s=new r(e,t),n=async()=>{if(typeof s._options.timeout=="number"&&s._options.timeout>fe)throw new RangeError(`The \`timeout\` option cannot be greater than ${fe}`);await Promise.resolve();let a=await s._fetch();for(let c of s._options.hooks.afterResponse){let u=await c(s.request,s._options,s._decorateResponse(a.clone()));u instanceof globalThis.Response&&(a=u)}if(s._decorateResponse(a),!a.ok&&s._options.throwHttpErrors){let c=new B(a,s.request,s._options);for(let u of s._options.hooks.beforeError)c=await u(c);throw c}if(s._options.onDownloadProgress){if(typeof s._options.onDownloadProgress!="function")throw new TypeError("The `onDownloadProgress` option must be a function");if(!mt)throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");return s._stream(a.clone(),s._options.onDownloadProgress)}return a},o=s._options.retry.methods.includes(s.request.method.toLowerCase())?s._retry(n):n();for(let[a,c]of Object.entries(gt))o[a]=async()=>{s.request.headers.set("accept",s.request.headers.get("accept")||c);let d=(await o).clone();if(a==="json"){if(d.status===204||(await d.clone().arrayBuffer()).byteLength===0)return"";if(t.parseJson)return t.parseJson(await d.text())}return d[a]()};return o}constructor(e,t={}){Object.defineProperty(this,"request",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"abortController",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_retryCount",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_input",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._input=e;let s=this._input instanceof Request&&"credentials"in Request.prototype?this._input.credentials:void 0;if(this._options={...s&&{credentials:s},...t,headers:Le(this._input.headers,t.headers),hooks:ue({beforeRequest:[],beforeRetry:[],beforeError:[],afterResponse:[]},t.hooks),method:Tt(t.method??this._input.method),prefixUrl:String(t.prefixUrl||""),retry:St(t.retry),throwHttpErrors:t.throwHttpErrors!==!1,timeout:t.timeout??1e4,fetch:t.fetch??globalThis.fetch.bind(globalThis)},typeof this._input!="string"&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&typeof this._input=="string"){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(dt){if(this.abortController=new globalThis.AbortController,this._options.signal){let n=this._options.signal;this._options.signal.addEventListener("abort",()=>{this.abortController.abort(n.reason)})}this._options.signal=this.abortController.signal}if(ht&&(this._options.duplex="half"),this._options.json!==void 0&&(this._options.body=this._options.stringifyJson?.(this._options.json)??JSON.stringify(this._options.json),this._options.headers.set("content-type",this._options.headers.get("content-type")??"application/json")),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){let i="?"+(typeof this._options.searchParams=="string"?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString()),o=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,i);(Et&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(o,{...this.request}),this._options)}}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<=this._options.retry.limit&&!(e instanceof _)){if(e instanceof B){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;let s=e.response.headers.get("Retry-After");if(s&&this._options.retry.afterStatusCodes.includes(e.response.status)){let n=Number(s)*1e3;Number.isNaN(n)&&(n=Date.parse(s)-Date.now());let i=this._options.retry.maxRetryAfter??n;return n<i?n:i}if(e.response.status===413)return 0}let t=this._options.retry.delay(this._retryCount);return Math.min(this._options.retry.backoffLimit,t)}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(t){let s=Math.min(this._calculateRetryDelay(t),fe);if(s!==0&&this._retryCount>0){await Pe(s,{signal:this._options.signal});for(let n of this._options.hooks.beforeRetry)if(await n({request:this.request,options:this._options,error:t,retryCount:this._retryCount})===pe)return;return this._retry(e)}throw t}}async _fetch(){for(let s of this._options.hooks.beforeRequest){let n=await s(this.request,this._options);if(n instanceof Request){this.request=n;break}if(n instanceof Response)return n}let e=Nt(this.request,this._options),t=this.request;return this.request=t.clone(),this._options.timeout===!1?this._options.fetch(t,e):qe(t,e,this.abortController,this._options)}_stream(e,t){let s=Number(e.headers.get("content-length"))||0,n=0;return e.status===204?(t&&t({percent:1,totalBytes:s,transferredBytes:n},new Uint8Array),new globalThis.Response(null,{status:e.status,statusText:e.statusText,headers:e.headers})):new globalThis.Response(new globalThis.ReadableStream({async start(i){let o=e.body.getReader();t&&t({percent:0,transferredBytes:0,totalBytes:s},new Uint8Array);async function a(){let{done:c,value:u}=await o.read();if(c){i.close();return}if(t){n+=u.byteLength;let d=s===0?0:n/s;t({percent:d,transferredBytes:n,totalBytes:s},u)}i.enqueue(u),await a()}await a()}}),{status:e.status,statusText:e.statusText,headers:e.headers})}};var ke=r=>{let e=(t,s)=>W.create(t,z(r,s));for(let t of le)e[t]=(s,n)=>W.create(s,z(r,n,{method:t}));return e.create=t=>ke(z(t)),e.extend=t=>ke(z(r,t)),e.stop=pe,e},Ks=ke(),_e=Ks;var rt=ce(re()),Bo="https://index.crates.io";async function st(r,e=Bo){let t=r.replace(/"/g,"").toLocaleLowerCase(),s="";t.length<=2?s=t.length.toString():t.length===3?s="3/"+t.substring(0,1):s=t.substring(0,2)+"/"+t.substring(2,4);let n=await _e.get(`${e}/${s}/${t}`);if(n.status!==200)throw new Error(`get crates metadata error: statusCode=${n.status} ${await n.text()}`);let i=(await n.text()).split(`
`).filter(g=>g),o=[],a={},c={},u=[],d=null,p=null;for(let g=i.length-1;g>=0;g--){let h=JSON.parse(i[g]);if(h.yanked===!1){o.push(h.vers),d===null&&(0,rt.prerelease)(h.vers)===null?d=h.vers:p===null&&(0,rt.prerelease)(h.vers)!==null&&(p=h.vers),h.rust_version&&(c[h.vers]=h.rust_version);let Oe=Object.keys(h.features).filter(js=>js==="default"?(u=h.features.default,!1):!0),lt=[];h.features2&&(lt=Object.keys(h.features2)),a[h.vers]=[...Oe,...lt]}}return{name:r,versions:o,features:a,defaultFeatures:u,rustVersion:c,createdAt:new Date().getUTCMilliseconds(),latestStable:d,latestPrerelease:p}}async function nt(r){if(r==="")return[];let e=await _e.get("https://crates.io/api/v1/crates?page=1&per_page=30&q="+r,{headers:{"User-Agent":"VSCodeExtension/crates-cmp"}});if(e.status!==200)throw new Error(`search crate error: statusCode=${e.status} ${await e.text()}`);return(await e.json()).crates}async function v(r,e,t=!1){let s=Ho(e);if(t){let i=await st(e);return r.globalState.update(s,i),i}let n=r.globalState.get(s);if(!n||n.createdAt>new Date().getUTCMilliseconds()-1e3*60*30){let i=await st(e);return r.globalState.update(s,i),i}return n}function Ho(r){return`crates-cmp:metadata:${r}`}async function ms(r,e){return(await v(r,e)).versions}var se=Symbol("None"),ne=class r{val;constructor(e){this.val=e}get[Symbol.toStringTag](){return"Option"}*[Symbol.iterator](){this.isSome()&&(yield this.val)}isSome(){return this.val!==se}isNone(){return this.val===se}expect(e){if(this.isNone())throw new Error(e);return this.val}unwrap(){if(this.isNone())throw new Error("Unwrap called on None");return this.val}unwrapOr(e){return this.isNone()?e:this.val}unwrapOrElse(e){return this.isNone()?e():this.val}map(e){return this.isSome()?new r(e(this.val)):this}mapOr(e,t){return this.isSome()?t(this.val):e}or(e){return this.isSome()?this:e}okOr(e){return this.isSome()?F(this.val):G(e)}peek(){return this.val}flatten(){return this.val instanceof r?this.val:this}static from(e){let t=e();return t==null?new r(se):new r(t)}static async fromAsync(e){let t=await e();return t==null?new r(se):new r(t)}};function Se(r){return new ne(r)}Object.defineProperty(Se,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isSome()||!1});function Ne(){return new ne(se)}Object.defineProperty(Ne,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isNone()||!1});var V=class r{val;constructor(e){this.val=e}get[Symbol.toStringTag](){return"Result"}*[Symbol.iterator](){this.isOk()&&(yield this.val)}isOk(){return!(this.val instanceof Error||this.val&&typeof this.val=="object"&&Error.isPrototypeOf(this.val))}isErr(){return this.val instanceof Error||this.val&&typeof this.val=="object"&&Error.isPrototypeOf(this.val)}formatError(e){throw e.stack=`${e.message}: ${this.val.stack?`
	`+this.val.stack.split(`
`).join(`
	`):this.val.message}`,e}expect(e){return this.isErr()&&this.formatError(new Error(e)),this.val}expectErr(e){return this.isOk()&&this.formatError(new Error(e)),this.val}unwrap(){return this.isErr()&&this.formatError(new Error(`Unwrap called on ${this.val.name}`)),this.val}unwrapErr(){if(this.isOk())throw new Error(`UnwrapError called on value - ${this.val}`);return this.val}unwrapOr(e){return this.isErr()?e:this.val}unwrapOrElse(e){return this.isErr()?e(this.val):this.val}map(e){return this.isOk()?new r(e(this.val)):this}mapErr(e){return this.isOk()?this:new r(e(this.val))}mapOr(e,t){return this.isOk()?t(this.val):e}or(e){return this.isOk()?this:e}ok(){return this.isOk()?Se(this.val):Ne()}peek(){return this.val}throw(){if(this.isErr())throw this.val}flatten(){return this.val instanceof r?this.val:this}static from(e){try{return new r(e())}catch(t){return new r(t)}}static async fromAsync(e){try{return new r(await e())}catch(t){return new r(t)}}static partition(e){return e.reduce((t,s)=>(s.isOk()?t.ok.push(s.unwrap()):t.err.push(s.unwrapErr()),t),{ok:[],err:[]})}};function F(r){return new V(r)}Object.defineProperty(F,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isOk()||!1});function G(r){return typeof r=="string"?new V(new Error(r)):new V(r)}Object.defineProperty(G,Symbol.hasInstance,{value:r=>typeof r!="object"?!1:r?.isErr()||!1});async function R(r){try{let e=await r;return F(e)}catch(e){return G(e)}}var Es=ce(re());async function gs(r,e,t,s){if(e==="")return[];let n=await R(v(r,e));if(n.isErr())throw n.unwrapErr();let i=n.unwrap();if(t==="")return i.features[i.latestStable]??[];let o=zo(i,t);if(o.length===0)return[];if(s&&s.length!==0){let a={};for(let c of s)a[c]=!0;return o.filter(c=>!a[c])}return o}function zo(r,e){let t=r.features[e]??[];if(t.length===0){for(let s of r.versions)if((0,Es.satisfies)(s,e)){t=r.features[s]??[];break}}return t}var D=ce(re());function ys(r,e){if(e.length===0)return[];let t=[];for(let s of e)t.push(Ko(r,s));return t}async function Ko(r,e){let t=await v(r,e.name);t[e.inputVersion]||(t=await v(r,e.name,!0));let s={id:e.id,current:e.currentVersion,latest:"",status:"Unkown"};if((0,D.prerelease)(s.current)===null){if(e.currentVersion!==t.latestStable){if(s.status="Outdated",s.latest=t.latestStable,(0,D.major)(s.current)===(0,D.major)(t.latestStable))return s;for(let n of t.versions)if((0,D.satisfies)(n,s.current))return s.currentMax=n,s}return s.status="Latest",s.latest=t.latestStable,s}if(e.currentVersion!==t.latestPrerelease){if(s.status="Outdated",s.latest=t.latestPrerelease,(0,D.satisfies)(e.inputVersion,t.latestPrerelease))return s;for(let n of t.versions)if((0,D.satisfies)(n,e.inputVersion))return s.currentMax=n,s;return s}return s.status="Latest",s.latest=t.latestPrerelease,s}var O=require("vscode");async function it(r,e,t){let s=await R(ms(r,e));if(s.isErr())return O.window.showErrorMessage(s.unwrapErr().message),[];let n=s.unwrap().map((i,o)=>{let a=new O.CompletionItem(P(i),O.CompletionItemKind.Constant);return a.insertText=P(i),a.sortText=k(o++),a.preselect=o===0,a.range=t,a});return new O.CompletionList(n)}var A=require("vscode");async function xs(r,e,t,s,n){let i=await R(gs(r,e,t,s));if(i.isErr())return A.window.showErrorMessage(i.unwrapErr().message),[];let o=i.unwrap().map((a,c)=>{let u=new A.CompletionItem(P(a),A.CompletionItemKind.Constant);return u.insertText=P(a),u.sortText=k(c++),u.preselect=c===0,u.range=n,u});return new A.CompletionList(o)}async function ws(r){return nt(r)}var C=require("vscode");async function Ts(r,e){let t=Yo(r,e),s=await R(ws(t));if(s.isErr())return C.window.showErrorMessage(s.unwrapErr().message),[];let[n,i]=Jo(t);return s.unwrap().map((a,c)=>{let u=new C.CompletionItem(a.name,C.CompletionItemKind.Constant);return u.insertText=a.name,u.documentation=a.description,u.detail="max version: "+a.max_version,u.sortText=k(c++),u.preselect=c===0,u.range=new C.Range(e.line,n,e.line,i),u})}function Yo(r,e){let t=new C.Range(e.line,0,e.line,e.character);return r.getText(t)}function Jo(r){let e=-1,t=-1;for(let s=0;s<r.length;s++)r[s].trim()!==""&&(e===-1&&(e=s),t=s);return[e,t]}var Rs=require("vscode");function Ss(r,e){return new Promise((t,s)=>{Rs.commands.executeCommand(r,e).then(n=>{pt(n)&&s("symbol provider unavailable"),t(n)},n=>s(n))})}var vs=require("vscode");var Ns=require("vscode");function $(r){return r&&new Ns.Range(r.start.translate(0,1),r.end.translate(0,-1))}function bs(r){return new Promise(e=>setTimeout(e,r))}var ot=class{enterTable(e,t){return!0}enterDependencies(e,t){return!0}onPackage(e,t){}onDependencies(e,t,s,n){}onFeatures(e,t){}onWorkspace(e,t){}onLib(e,t){}onBin(e,t){}onProfile(e,t){}onBadges(e,t){}onOther(e,t){}tree;constructor(e){this.tree=e}walk(){for(let e of this.tree)switch(e.name){case"package":this.enterTable(e,"package")&&this.onPackage(e.name,e);break;case"dependencies":this.enterDependencies(e,"dependencies")&&this.onDependencies(e.name,e,"dependencies");break;case"dev-dependencies":this.enterDependencies(e,"dev-dependencies")&&this.onDependencies(e.name,e,"dev-dependencies");break;case"build-dependencies":this.enterDependencies(e,"build-dependencies")&&this.onDependencies(e.name,e,"build-dependencies");break;case"target":if(this.enterDependencies(e,"target.dependencies"))for(let t of e.children)for(let s of t.children)this.onDependencies(ie(e.name,t.name,s.name),s,"target.dependencies",t.name);case"features":this.enterTable(e,"features")&&this.onFeatures(e.name,e);break;case"workspace":this.enterTable(e,"workspace")&&this.onWorkspace(e.name,e);break;case"lib":this.enterTable(e,"lib")&&this.onLib(e.name,e);break;case"bin":this.enterTable(e,"bin")&&this.onBin(e.name,e);break;case"profile":this.enterTable(e,"profile")&&this.onProfile(e.name,e);break;case"badges":this.enterTable(e,"badges")&&this.onBadges(e.name,e);break;default:this.enterTable(e,"other")&&this.onOther(e.name,e);break}}},oe=class extends ot{enterCrate(e){return!0}onCrate(e,t,s,n){}onDependencies(e,t,s,n){for(let i of t.children)this.enterCrate(i)&&this.onCrate(ie(e,i.name),i,s,n)}};async function ve(r){for(let e=0;e<5;e++){let t=await R(Ss("vscode.executeDocumentSymbolProvider",r));if(console.log("waiting for Even better toml"),t.isOk())return t.unwrap();await bs(500)}return vs.window.showErrorMessage("Require `Even Better TOML` extension"),[]}var be=class extends oe{dependencies=[];nodeStore;identifiers=[];doc;constructor(e,t,s){super(e),this.doc=t,this.nodeStore=s}enterTable(e,t){return!1}enterDependencies(e,t){return!0}enterCrate(e){return!0}onCrate(e,t,s,n){let i=t.name,o={id:e,name:i,inputVersion:"",features:[],tableName:s,platform:n};if(this.identifiers.push(o.id),this.nodeStore.set(o.id,{value:this.doc.getText(t.range),table:s,range:t.range,denpendencyType:"Crate"}),t.children.length===0){let a=this.doc.getText($(t.range));o.inputVersion=a,this.dependencies.push(o);return}for(let a of t.children){if(a.name==="version"){let c=this.doc.getText($(a.range));o.inputVersion=c,this.nodeStore.set(ie(o.id,a.name),{value:c,range:a.range,table:s,denpendencyType:"Version"});continue}if(a.name==="features"){if(a.children.length!==0)for(let c of a.children){let u=this.doc.getText($(c.range));this.nodeStore.set(ie(o.id,a.name,c.name),{value:u,range:c.range,table:s,denpendencyType:"Feature"}),o.features.push(u)}else{let c=this.doc.getText($(a.range));this.nodeStore.set(ie(o.id,a.name),{value:c,range:a.range,table:s,denpendencyType:"Feature"}),o.features.push(c)}continue}a.name==="package"&&(o.packageName=this.doc.getText($(a.range)))}this.dependencies.push(o)}};function ie(...r){return r.join(".")}var Ie=class{m={};currentDirty=new Set;currentyAdded=new Set;currentDeleted=new Set;unpatchedDirty=new Set;unpatchedAdded=new Set;unpatchedDeleted=new Set;uri=void 0;constructor(){this.m={}}initialized(){return this.uri!==void 0}init(e){if(this.uri!==e){this.m={},this.uri=e,this.currentDirty.clear(),this.currentyAdded.clear(),this.currentDeleted.clear(),this.unpatchedAdded.clear(),this.unpatchedDirty.clear(),this.unpatchedDeleted.clear();return}this.currentDirty.clear(),this.currentyAdded.clear(),this.currentDeleted.clear();for(let t of Object.keys(this.m))this.currentDeleted.add(t)}isClean(){return this.currentDirty.size===0&&this.currentyAdded.size===0&&this.currentDeleted.size===0&&this.unpatchedDirty.size===0&&this.unpatchedAdded.size===0&&this.unpatchedDeleted.size===0}node(e){return this.m[e]??void 0}range(e){return this.m[e]?.range}set(e,t){this.m[e]&&this.m[e].value!==t.value&&(this.currentDirty.add(e),this.unpatchedDirty.add(e)),this.m[e]||(this.currentyAdded.add(e),this.unpatchedAdded.add(e)),this.currentDeleted.delete(e),this.m[e]=t}finishWalk(){for(let e of this.currentDeleted)this.unpatchedDeleted.add(e)}deletedIds(){return[...this.currentDeleted]}dirtyIds(){return[...this.currentDirty]}addedIds(){return[...this.currentyAdded]}isAdded(e){return this.unpatchedAdded.has(e)}isDirty(e){return this.unpatchedDirty.has(e)}patch(){this.unpatchedAdded.clear(),this.unpatchedDirty.clear();for(let e of this.unpatchedDeleted)delete this.m[e];this.unpatchedDeleted.clear()}};var De=class{context;constructor(e){this.context=e}provideCompletionItems(e,t,s,n){return new Promise(async i=>{let o=await this.completionItems(e,t,s,n);i(o)})}async completionItems(e,t,s,n){let i=await ve(e.uri);if(i.length===0)return[];let o=new at(i,t);if(o.walk(),!o.crateName)return await Ts(e,t);if(o.versionNode&&o.versionNode.range.contains(t))return await it(this.context,o.crateName,o.versionNode.range);if(o.featuresNode&&o.featuresNode.children.length!==0){if(o.featuresNode.range.contains(t)){let a=e.getText($(o.versionNode?.range)),c,u=[];for(let d of o.featuresNode.children){if(d.range.contains(t)){c=d.range;continue}u.push(e.getText($(d.range)))}return await xs(this.context,o.crateName,a,u,c)}return[]}return o.isComplexDependencyBlock?[]:await it(this.context,o.crateName,o.crateRange)}},at=class extends oe{isComplexDependencyBlock=!1;crateName;crateRange;versionNode;featuresNode;position;constructor(e,t){super(e),this.position=t}enterTable(e,t){return!1}enterDependencies(e,t){return!!e.range.contains(this.position)}enterCrate(e){return!!e.range.contains(this.position)}onCrate(e,t){if(this.crateName=t.name,this.crateRange=t.range,t.children.length!==0){this.isComplexDependencyBlock=!0;for(let s of t.children){if(s.name==="version"){this.versionNode=s;continue}if(s.name==="features"){this.featuresNode=s;continue}}}this.enterCrate=s=>!1}};var q=require("vscode");var M=require("vscode"),Ce=class{uri;state;constructor(){this.state={}}init(e){if(this.uri!==e){this.state={},this.uri=e;return}}delete(e){this.state[e]&&(this.state[e].decoration.dispose(),delete this.state[e])}get(e){return this.state[e]}set(e,t){this.state[e]=t}};function Ds(r){return M.window.createTextEditorDecorationType({after:{contentText:"\u2705 "+r,color:"green",margin:"0 0 0 4em"}})}function Cs(r){return r.currentMax!==""&&r.current===r.currentMax?M.window.createTextEditorDecorationType({after:{contentText:"\u{1F7E1} "+r.current+", "+r.latest,color:"orange",margin:"0 0 0 4em"}}):r.currentMax&&r.current!==r.currentMax?M.window.createTextEditorDecorationType({after:{contentText:"\u{1F7E1} "+r.current+"==>"+r.currentMax+", "+r.latest,color:"orange",margin:"0 0 0 4em"}}):M.window.createTextEditorDecorationType({after:{contentText:"\u{1F7E1} "+r.current+"==>"+r.latest,color:"orange",margin:"0 0 0 4em"}})}function $s(){return M.window.createTextEditorDecorationType({after:{contentText:"Waiting...",color:"grey",margin:"0 0 0 4em"}})}var Os=require("child_process");function As(r){return new Promise((e,t)=>{let s=(0,Os.exec)(r),n="",i="";s.stdout?.on("data",o=>{n+=o}),s.stderr?.on("data",o=>{i+=o}),s.on("exit",o=>{o===0?e(n):t(new Error(i))}),s.on("error",o=>{console.error("Failed to start subprocess:",o),t(o)})})}async function Ls(r){let e=await R(As(`cargo tree --manifest-path ${r} --depth 1 --all-features`));if(e.isErr())throw e.unwrapErr();return Qo(e.unwrap())}function Qo(r){let e={};return r.trim().split(`
`).forEach(s=>{let i=s.trim().match(/(\S+)\s+v(\d+\.\d+\.\d+(?:[-+]\S+)?)/);if(i){let[,o,a]=i;e[o]=a}}),e}var qs=ce(re()),ct=require("vscode");async function Ps(r,e){if(e.length===0)return[];let t=[];for await(let s of e){let n=await v(r,s.name,!0),i;for(let o of n.versions)if((0,qs.satisfies)(o,s.inputVersion)){i=o;break}if(i||t.push({id:s.id,type:"Version",servity:ct.DiagnosticSeverity.Error,source:"extension/crates-cmp",message:"Version not found, latest stable is "+n.latestStable}),i&&s.features.length!==0)for(let o of s.features)n.features[i].includes(o)||t.push({id:s.id,type:"Feature",servity:ct.DiagnosticSeverity.Error,source:"extension/crates-cmp",message:`Feature "${o}" not found, available features are `+n.features[i].join(", ")})}return t}var $e=class{ctx;decorationStore=new Ce;nodeStore=new Ie;diagnosticCollection;constructor(e){this.ctx=e,this.diagnosticCollection=q.languages.createDiagnosticCollection("crates-cmp")}async onChange(e){if(!e.isDirty&&this.nodeStore.initialized())return;let t=await ve(e.uri);if(t.length===0)return;let s=new be(t,e,this.nodeStore);if(this.nodeStore.init(e.uri.path),s.walk(),this.nodeStore.finishWalk(),this.nodeStore.isClean())return;this.diagnosticCollection.delete(e.uri),this.addedNodes(this.nodeStore.addedIds()),this.deletedNodes(this.nodeStore.deletedIds()),this.dirtyNodes(this.nodeStore.dirtyIds());let n=await R(Ls(e.uri.path));if(n.isErr()){if(this.nodeStore.isClean())return;let c=s.dependencies.filter(p=>this.nodeStore.isAdded(p.id)||this.nodeStore.isDirty(p.id)),u=await Ps(this.ctx,c);if(u.length===0)return;let d=u.map(p=>new q.Diagnostic(this.nodeStore.range(p.id),p.message,p.servity));this.deletedNodes(u.map(p=>p.id)),this.diagnosticCollection.set(e.uri,d),this.nodeStore.patch();return}if(this.nodeStore.isClean())return;let i=[],o=n.unwrap();for(let c of s.dependencies){if(o[c.name]){c.currentVersion=o[c.name];continue}if(c.packageName&&o[c.packageName]){c.currentVersion=o[c.packageName];continue}i.push(c.id)}i.length!==0&&this.deletedNodes(i),ys(this.ctx,s.dependencies).forEach(c=>c.then(this.outputPromiseHandler.bind(this))),this.nodeStore.patch()}outputPromiseHandler(e){this.decorate(e.id,e)}addedNodes(e){for(let t of e)this.decorate(t,{id:t,current:"",currentMax:"",latest:"",status:"Loading"})}deletedNodes(e){for(let t of e)this.decorationStore.delete(t)}dirtyNodes(e){for(let t of e)this.decorate(t,{id:t,current:"",currentMax:"",latest:"",status:"Loading"})}decorate(e,t){if(this.nodeStore.node(e)&&this.nodeStore.node(e)?.denpendencyType!=="Crate")return null;let s=this.decorationStore.get(e);if(s){if(s.latest===t.latest&&s.status===t.status)return this.nodeStore.range(e)&&q.window.activeTextEditor?.setDecorations(s.decoration,[this.nodeStore.range(e)]),s.decoration;s.decoration.dispose()}let n;switch(t.status){case"Latest":n=Ds(t.latest);break;case"Outdated":n=Cs(t);break;case"Loading":n=$s();break}this.decorationStore.set(e,{latest:t.latest,status:t.status,decoration:n}),this.nodeStore.range(e)&&q.window.activeTextEditor?.setDecorations(n,[this.nodeStore.range(e)])}async onDidChangeTextDocument(e){e.document.fileName.endsWith("Cargo.toml")&&!e.document.isDirty&&await this.onChange(e.document)}async onDidChangeActiveEditor(e){e&&e.document.fileName.endsWith("Cargo.toml")&&await this.onChange(e.document)}};var ks=require("vscode"),ut=class{client=void 0;dependencies={};async init(){let e=ks.extensions.getExtension("rust-lang.rust-analyzer");if(!e)throw new Error("Require Rust Analyzer");let t=await e.activate();if(!t.client)throw new Error("Require Rust Analyzer");t.client.start(),this.client=t.client}stop(){if(this.client)return this.client.stop()}async dependencyList(){let e=await this.client?.sendRequest("rust-analyzer/fetchDependencyList",{});for(let t of e.crates)this.dependencies[t.name]=t}dependency(e){return this.dependencies[e]}languageClient(){return this.client}},_s=new ut;async function Zo(r){let e={language:"toml",pattern:"**/Cargo.toml"},t=new $e(r);r.subscriptions.push(X.window.onDidChangeActiveTextEditor(t.onDidChangeActiveEditor,t),X.workspace.onDidChangeTextDocument(t.onDidChangeTextDocument,t),X.languages.registerCompletionItemProvider(e,new De(r),'"',".","+","-","0","1","2","3","4","5","6","7","8","9"))}function ea(){return _s.stop()}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

ky/distribution/index.js:
  (*! MIT License © Sindre Sorhus *)
*/
